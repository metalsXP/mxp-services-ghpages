<!doctype html>
<html lang="en" dir="ltr" class="docs-wrapper plugin-docs plugin-id-UBC docs-version-current docs-doc-page docs-doc-id-IO/documentation" data-has-hydrated="false">
<head>
<meta charset="UTF-8">
<meta name="generator" content="Docusaurus v3.9.2">
<title data-rh="true">I/O Monitoring (UBC.io) | metalsXP services</title><meta data-rh="true" name="viewport" content="width=device-width,initial-scale=1"><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:url" content="https://metalsxp.services/products/UBC/IO/documentation"><meta data-rh="true" property="og:locale" content="en"><meta data-rh="true" name="docusaurus_locale" content="en"><meta data-rh="true" name="docsearch:language" content="en"><meta data-rh="true" name="keywords" content="SAP, metalsXP"><meta data-rh="true" name="docusaurus_version" content="current"><meta data-rh="true" name="docusaurus_tag" content="docs-UBC-current"><meta data-rh="true" name="docsearch:version" content="current"><meta data-rh="true" name="docsearch:docusaurus_tag" content="docs-UBC-current"><meta data-rh="true" property="og:title" content="I/O Monitoring (UBC.io) | metalsXP services"><meta data-rh="true" name="description" content="Introduction"><meta data-rh="true" property="og:description" content="Introduction"><link data-rh="true" rel="icon" href="/img/favicon.ico"><link data-rh="true" rel="canonical" href="https://metalsxp.services/products/UBC/IO/documentation"><link data-rh="true" rel="alternate" href="https://metalsxp.services/products/UBC/IO/documentation" hreflang="en"><link data-rh="true" rel="alternate" href="https://metalsxp.services/products/UBC/IO/documentation" hreflang="x-default"><script data-rh="true" type="application/ld+json">{"@context":"https://schema.org","@type":"BreadcrumbList","itemListElement":[{"@type":"ListItem","position":1,"name":"I/O monitoring (UBC.io)","item":"https://metalsxp.services/products/UBC/IO/documentation"}]}</script><link rel="stylesheet" href="/assets/css/styles.a4adb105.css">
<script src="/assets/js/runtime~main.4bb88d91.js" defer="defer"></script>
<script src="/assets/js/main.ea04960f.js" defer="defer"></script>
</head>
<body class="navigation-with-keyboard">
<svg style="display: none;"><defs>
<symbol id="theme-svg-external-link" viewBox="0 0 24 24"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"/></symbol>
</defs></svg>
<script>!function(){var t=function(){try{return new URLSearchParams(window.location.search).get("docusaurus-theme")}catch(t){}}()||function(){try{return window.localStorage.getItem("theme")}catch(t){}}();document.documentElement.setAttribute("data-theme",t||(window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light")),document.documentElement.setAttribute("data-theme-choice",t||"system")}(),function(){try{const c=new URLSearchParams(window.location.search).entries();for(var[t,e]of c)if(t.startsWith("docusaurus-data-")){var a=t.replace("docusaurus-data-","data-");document.documentElement.setAttribute(a,e)}}catch(t){}}()</script><div id="__docusaurus"><link rel="preload" as="image" href="/img/mxp.png"><link rel="preload" as="image" href="/img/metalsXP-Cut-bottom2.png"><div role="region" aria-label="Skip to main content"><a class="skipToContent_fXgn" href="#__docusaurus_skipToContent_fallback">Skip to main content</a></div><nav aria-label="Main" class="theme-layout-navbar navbar navbar--fixed-top navbarHideable_m1mJ"><div class="navbar__inner"><div class="theme-layout-navbar-left navbar__items"><button aria-label="Toggle navigation bar" aria-expanded="false" class="navbar__toggle clean-btn" type="button"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" target="_self" href="/"><div class="navbar__logo"><img src="/img/mxp.png" alt="mXP" class="themedComponent_mlkZ themedComponent--light_NVdE" height="32"><img src="/img/mxp.png" alt="mXP" class="themedComponent_mlkZ themedComponent--dark_xIcU" height="32"></div><b class="navbar__title text--truncate">services</b></a><a aria-current="page" class="navbar__item navbar__link navbar__link--active" href="/products/UBC">UBC</a><a class="navbar__item navbar__link" href="/products/mdVC">mdVC</a><a class="navbar__item navbar__link" href="/products/QCERT/QCERT Cockpit">QCERT</a><a class="navbar__item navbar__link" href="/products/QPPD/GRO">QPPD-GRO</a></div><div class="theme-layout-navbar-right navbar__items navbar__items--right"><div class="toggle_vylO colorModeToggle_DEke"><button class="clean-btn toggleButton_gllP toggleButtonDisabled_aARS" type="button" disabled="" title="system mode" aria-label="Switch between dark and light mode (currently system mode)"><svg viewBox="0 0 24 24" width="24" height="24" aria-hidden="true" class="toggleIcon_g3eP lightToggleIcon_pyhR"><path fill="currentColor" d="M12,9c1.65,0,3,1.35,3,3s-1.35,3-3,3s-3-1.35-3-3S10.35,9,12,9 M12,7c-2.76,0-5,2.24-5,5s2.24,5,5,5s5-2.24,5-5 S14.76,7,12,7L12,7z M2,13l2,0c0.55,0,1-0.45,1-1s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S1.45,13,2,13z M20,13l2,0c0.55,0,1-0.45,1-1 s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S19.45,13,20,13z M11,2v2c0,0.55,0.45,1,1,1s1-0.45,1-1V2c0-0.55-0.45-1-1-1S11,1.45,11,2z M11,20v2c0,0.55,0.45,1,1,1s1-0.45,1-1v-2c0-0.55-0.45-1-1-1C11.45,19,11,19.45,11,20z M5.99,4.58c-0.39-0.39-1.03-0.39-1.41,0 c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0s0.39-1.03,0-1.41L5.99,4.58z M18.36,16.95 c-0.39-0.39-1.03-0.39-1.41,0c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0c0.39-0.39,0.39-1.03,0-1.41 L18.36,16.95z M19.42,5.99c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06c-0.39,0.39-0.39,1.03,0,1.41 s1.03,0.39,1.41,0L19.42,5.99z M7.05,18.36c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06 c-0.39,0.39-0.39,1.03,0,1.41s1.03,0.39,1.41,0L7.05,18.36z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" aria-hidden="true" class="toggleIcon_g3eP darkToggleIcon_wfgR"><path fill="currentColor" d="M9.37,5.51C9.19,6.15,9.1,6.82,9.1,7.5c0,4.08,3.32,7.4,7.4,7.4c0.68,0,1.35-0.09,1.99-0.27C17.45,17.19,14.93,19,12,19 c-3.86,0-7-3.14-7-7C5,9.07,6.81,6.55,9.37,5.51z M12,3c-4.97,0-9,4.03-9,9s4.03,9,9,9s9-4.03,9-9c0-0.46-0.04-0.92-0.1-1.36 c-0.98,1.37-2.58,2.26-4.4,2.26c-2.98,0-5.4-2.42-5.4-5.4c0-1.81,0.89-3.42,2.26-4.4C12.92,3.04,12.46,3,12,3L12,3z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" aria-hidden="true" class="toggleIcon_g3eP systemToggleIcon_QzmC"><path fill="currentColor" d="m12 21c4.971 0 9-4.029 9-9s-4.029-9-9-9-9 4.029-9 9 4.029 9 9 9zm4.95-13.95c1.313 1.313 2.05 3.093 2.05 4.95s-0.738 3.637-2.05 4.95c-1.313 1.313-3.093 2.05-4.95 2.05v-14c1.857 0 3.637 0.737 4.95 2.05z"></path></svg></button></div><div class="navbarSearchContainer_Bca1"><div class="navbar__search searchBarContainer_NW3z" dir="ltr"><input placeholder="Search" aria-label="Search" class="navbar__search-input searchInput_YFbd" value=""><div class="loadingRing_RJI3 searchBarLoadingRing_YnHq"><div></div><div></div><div></div><div></div></div></div></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div id="__docusaurus_skipToContent_fallback" class="theme-layout-main main-wrapper mainWrapper_z2l0"><div class="docsWrapper_hBAB"><button aria-label="Scroll back to top" class="clean-btn theme-back-to-top-button backToTopButton_sjWU" type="button"></button><div class="docRoot_UBD9"><aside class="theme-doc-sidebar-container docSidebarContainer_YfHR"><div class="sidebarViewport_aRkj"><div class="sidebar_njMd sidebarWithHideableNavbar_wUlq"><a tabindex="-1" class="sidebarLogo_isFc" target="_self" href="/"><img src="/img/mxp.png" alt="mXP" class="themedComponent_mlkZ themedComponent--light_NVdE" height="32"><img src="/img/mxp.png" alt="mXP" class="themedComponent_mlkZ themedComponent--dark_xIcU" height="32"><b>services</b></a><nav aria-label="Docs sidebar" class="menu thin-scrollbar menu_SIkG"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/products/UBC"><span title="Overview" class="linkLabel_WmDU">Overview</span></a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible menu__list-item-collapsible--active"><a class="categoryLink_byQd menu__link menu__link--sublist menu__link--active" aria-current="page" href="/products/UBC/IO/documentation"><span title="I/O monitoring (UBC.io)" class="categoryLinkLabel_W154">I/O monitoring (UBC.io)</span></a><button aria-label="Collapse sidebar category &#x27;I/O monitoring (UBC.io)&#x27;" aria-expanded="true" type="button" class="clean-btn menu__caret"></button></div><ul class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/products/UBC/IO/legacy_functions"><span title="Legacy functions" class="linkLabel_WmDU">Legacy functions</span></a></li></ul></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/products/UBC/REST/documentation"><span title="RESTful webservices (UBC.rest)" class="linkLabel_WmDU">RESTful webservices (UBC.rest)</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/products/UBC/MAP/documentation"><span title="Mapping framework (UBC.map)" class="linkLabel_WmDU">Mapping framework (UBC.map)</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/products/UBC/BO/documentation"><span title="UBC Business objects (UBC.bo)" class="linkLabel_WmDU">UBC Business objects (UBC.bo)</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/products/UBC/IDOC/documentation"><span title="IDOC integration (UBC.idoc)" class="linkLabel_WmDU">IDOC integration (UBC.idoc)</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/products/UBC/FLOW/documentation"><span title="Workflows (UBC.flow)" class="linkLabel_WmDU">Workflows (UBC.flow)</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/products/UBC/JSON/documentation"><span title="JSON integration (UBC.json)" class="linkLabel_WmDU">JSON integration (UBC.json)</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/products/UBC/MQTT/documentation"><span title="MQTT integration (UBC.mqtt)" class="linkLabel_WmDU">MQTT integration (UBC.mqtt)</span></a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="categoryLink_byQd menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="true" href="/products/UBC/integrations/MES/documentation"><span title="Integrations" class="categoryLinkLabel_W154">Integrations</span></a></div><ul class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/products/UBC/integrations/MES/documentation"><span title="MES Integration" class="linkLabel_WmDU">MES Integration</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/products/UBC/integrations/S1SEVEN/documentation"><span title="S1SEVEN" class="linkLabel_WmDU">S1SEVEN</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/products/UBC/integrations/UnibrightONE/documentation"><span title="Unibright.ONE" class="linkLabel_WmDU">Unibright.ONE</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/products/UBC/integrations/DIE/documentation"><span title="BTP Document Information Extraction" class="linkLabel_WmDU">BTP Document Information Extraction</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/products/UBC/integrations/O365Mail/documentation"><span title="Microsoft Mail" class="linkLabel_WmDU">Microsoft Mail</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/products/UBC/integrations/ADLSG2/documentation"><span title="Azure Data Lake Storage Gen2" class="linkLabel_WmDU">Azure Data Lake Storage Gen2</span></a></li></ul></li></ul></nav><button type="button" title="Collapse sidebar" aria-label="Collapse sidebar" class="button button--secondary button--outline collapseSidebarButton_PEFL"><svg width="20" height="20" aria-hidden="true" class="collapseSidebarButtonIcon_kv0_"><g fill="#7a7a7a"><path d="M9.992 10.023c0 .2-.062.399-.172.547l-4.996 7.492a.982.982 0 01-.828.454H1c-.55 0-1-.453-1-1 0-.2.059-.403.168-.551l4.629-6.942L.168 3.078A.939.939 0 010 2.528c0-.548.45-.997 1-.997h2.996c.352 0 .649.18.828.45L9.82 9.472c.11.148.172.347.172.55zm0 0"></path><path d="M19.98 10.023c0 .2-.058.399-.168.547l-4.996 7.492a.987.987 0 01-.828.454h-3c-.547 0-.996-.453-.996-1 0-.2.059-.403.168-.551l4.625-6.942-4.625-6.945a.939.939 0 01-.168-.55 1 1 0 01.996-.997h3c.348 0 .649.18.828.45l4.996 7.492c.11.148.168.347.168.55zm0 0"></path></g></svg></button></div></div></aside><main class="docMainContainer_TBSr"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_VOVn"><div class="docItemContainer_Djhp"><article><nav class="theme-doc-breadcrumbs breadcrumbsContainer_Z_bl" aria-label="Breadcrumbs"><ul class="breadcrumbs"><li class="breadcrumbs__item"><a aria-label="Home page" class="breadcrumbs__link" href="/"><svg viewBox="0 0 24 24" class="breadcrumbHomeIcon_YNFT"><path d="M10 19v-5h4v5c0 .55.45 1 1 1h3c.55 0 1-.45 1-1v-7h1.7c.46 0 .68-.57.33-.87L12.67 3.6c-.38-.34-.96-.34-1.34 0l-8.36 7.53c-.34.3-.13.87.33.87H5v7c0 .55.45 1 1 1h3c.55 0 1-.45 1-1z" fill="currentColor"></path></svg></a></li><li class="breadcrumbs__item breadcrumbs__item--active"><span class="breadcrumbs__link">I/O monitoring (UBC.io)</span></li></ul></nav><div class="tocCollapsible_ETCw theme-doc-toc-mobile tocMobile_ITEo"><button type="button" class="clean-btn tocCollapsibleButton_TO0P">On this page</button></div><div class="theme-doc-markdown markdown"><header><h1>I/O Monitoring (UBC.io)</h1></header>
<h2 class="anchor anchorTargetHideOnScrollNavbar_vjPI" id="introduction">Introduction<a href="#introduction" class="hash-link" aria-label="Direct link to Introduction" title="Direct link to Introduction" translate="no">​</a></h2>
<p>UBC - Unified Backend Connector includes a component for I/O monitoring and processing, which provides a comprehensive tool and framework for interface monitoring to and from SAP systems through a single entry point.</p>
<p>Key features:</p>
<ul>
<li class="">Monitor, restart, and edit various messages without environment system involvement in a clearly organized cockpit</li>
<li class="">Logging of changes and executions</li>
<li class="">Automatic restart functionality</li>
<li class="">Logical chaining of processes through queueing</li>
<li class="">Structured message search and display</li>
<li class="">Alerting with workflow integration</li>
<li class="">Easy integration with pre-delivered templates</li>
<li class="">No additional licenses required - integrated into the on-premise system</li>
</ul>
<p><img decoding="async" loading="lazy" alt="Overview" src="/assets/images/image_004-d5ce9dc06dd1a084c0aaf9b2c3d98e51.png" width="720" height="405" class="img_ev3q"></p>
<h2 class="anchor anchorTargetHideOnScrollNavbar_vjPI" id="monitoring-and-error-handling">Monitoring and Error Handling<a href="#monitoring-and-error-handling" class="hash-link" aria-label="Direct link to Monitoring and Error Handling" title="Direct link to Monitoring and Error Handling" translate="no">​</a></h2>
<p>There are two main monitoring and error handling transactions that provide a holistic overview of all messages within the system.</p>
<p>UBC.io is organized by &quot;interfaces,&quot; which are logical groupings of one or more technical interfaces (e.g., all MES interfaces related to a production order). Each interface can have attributes that are mapped from the message payload to an index table for structured search and overview in a result list.</p>
<h3 class="anchor anchorTargetHideOnScrollNavbar_vjPI" id="io-detail-monitor-ubcio">I/O Detail Monitor <code>/UBC/IO</code><a href="#io-detail-monitor-ubcio" class="hash-link" aria-label="Direct link to io-detail-monitor-ubcio" title="Direct link to io-detail-monitor-ubcio" translate="no">​</a></h3>
<p>This transaction is used for structured searches of selected payload attributes, detailed analysis, and all error handling tasks.</p>
<p>First, select one or more interfaces for messages and further restrict the selection screen (which is an intersection of all available <a href="#field-mapping" class="">indexed fields</a> and optionally <a href="#multi-index-tables" class="">Multi-index fields</a>).</p>
<p>You can select, for example:</p>
<ul>
<li class="">Messages for material 4711 that were sent today</li>
<li class="">Messages in an error state</li>
<li class="">Messages containing a specific message in their log, e.g., &quot;material is locked&quot;</li>
<li class="">And more...</li>
</ul>
<p><img decoding="async" loading="lazy" alt="Selection screen" src="/assets/images/image_005-ab0a0d5885c965b989b746d7a24a09b2.png" width="1104" height="908" class="img_ev3q"></p>
<p>By pressing Execute (F8), the result list will be displayed. As with the selection screen, it shows the intersection of all available <a href="#field-mapping" class="">indexed fields</a>.</p>
<p>Depending on the interface <a href="#processing-options-queue-type" class="">processing mode</a> (asynchronous/synchronous), the following options are available:</p>
<ul>
<li class="">
<p><strong>Editing messages</strong> (asynchronous only)
The message will be copied, the old message will be set to status <code>OBS</code>, and the new message will be processed according to the <a href="#processing-options-queue-type" class="">processing type</a></p>
</li>
<li class="">
<p><strong>Restarting messages in error state</strong> (asynchronous only)</p>
<div class="theme-admonition theme-admonition-tip admonition_xJq3 alert alert--success"><div class="admonitionHeading_Gvgb"><span class="admonitionIcon_Rf37"><svg viewBox="0 0 12 16"><path fill-rule="evenodd" d="M6.5 0C3.48 0 1 2.19 1 5c0 .92.55 2.25 1 3 1.34 2.25 1.78 2.78 2 4v1h5v-1c.22-1.22.66-1.75 2-4 .45-.75 1-2.08 1-3 0-2.81-2.48-5-5.5-5zm3.64 7.48c-.25.44-.47.8-.67 1.11-.86 1.41-1.25 2.06-1.45 3.23-.02.05-.02.11-.02.17H5c0-.06 0-.13-.02-.17-.2-1.17-.59-1.83-1.45-3.23-.2-.31-.42-.67-.67-1.11C2.44 6.78 2 5.65 2 5c0-2.2 2.02-4 4.5-4 1.22 0 2.36.42 3.22 1.19C10.55 2.94 11 3.94 11 5c0 .66-.44 1.78-.86 2.48zM4 14h5c-.23 1.14-1.3 2-2.5 2s-2.27-.86-2.5-2z"></path></svg></span>tip</div><div class="admonitionContent_BuS1"><p>If the user who triggers the restart is different from the user who initially triggered the message, the following applies:</p><ul>
<li class="">The initial user processes the transaction (as the bgRFC unit remains)</li>
<li class="">The admin data for the message shows the user who restarted the message as &quot;last changed by&quot;</li>
<li class="">The log will show which user processed the transaction. This log message is only displayed if the users (restart vs. processing) are different</li>
</ul></div></div>
</li>
<li class="">
<p><strong>Acknowledgment of messages in error state</strong> (asynchronous only)</p>
</li>
<li class="">
<p><strong>Copying messages for testing</strong></p>
</li>
</ul>
<p>(Actions are available for multi-selection)</p>
<p><img decoding="async" loading="lazy" alt="Selection screen" src="/assets/images/image_006-bd2525015f0aedabf10ca8014597564f.png" width="744" height="352" class="img_ev3q"></p>
<p>The screen has four main areas:</p>
<ul>
<li class=""><strong>Result list</strong> (top left) with all indexed fields, actions, etc.
Click on the message number to select a message and view details. Selecting a message displays the other parts of the screen.</li>
<li class=""><strong>Application log</strong> (top right)
Processing log of a message including all actions that occurred.</li>
<li class=""><strong>Runs</strong> (bottom left)
Shows all runs of a message. A &quot;Restart&quot; starts a new run.</li>
<li class=""><strong>Message payload</strong> (bottom right)
Grid display of all message contents with options to view and download as JSON</li>
</ul>
<h3 class="anchor anchorTargetHideOnScrollNavbar_vjPI" id="message-status">Message Status<a href="#message-status" class="hash-link" aria-label="Direct link to Message Status" title="Direct link to Message Status" translate="no">​</a></h3>
<p>The following is a list of all possible message statuses:</p>
<ul>
<li class=""><code>ERROR</code> - The message is in an error state and awaits action (restart, acknowledgment)</li>
<li class=""><code>ACK</code> - A message in status <code>ERROR</code> was acknowledged</li>
<li class=""><code>SUCC</code> - The message was successfully processed without errors</li>
<li class=""><code>OBS</code> - The message was edited. The old message was saved in status <code>OBS</code> for research purposes. The new message points to the old message</li>
<li class=""><code>COPY</code> - The message was copied and is ready for processing</li>
<li class=""><code>QUEUE</code> - The message was saved and awaits processing, which will start as soon as system resources are available or, if a predecessor exists, after the predecessor was processed successfully/acknowledged</li>
<li class=""><code>PEND</code> - The message is currently being processed</li>
<li class=""><code>READY</code> - The message is ready for processing but needs confirmation by a user who must release it by selecting &quot;Restart&quot; in the monitor (only for processing type <a href="#manual-processing" class="">Manual processing</a>)</li>
</ul>
<h3 class="anchor anchorTargetHideOnScrollNavbar_vjPI" id="processing-options-queue-type">Processing Options (Queue Type)<a href="#processing-options-queue-type" class="hash-link" aria-label="Direct link to Processing Options (Queue Type)" title="Direct link to Processing Options (Queue Type)" translate="no">​</a></h3>
<p>Both asynchronous and synchronous processing of messages is available.</p>
<h4 class="anchor anchorTargetHideOnScrollNavbar_vjPI" id="synchronous-processing">Synchronous Processing<a href="#synchronous-processing" class="hash-link" aria-label="Direct link to Synchronous Processing" title="Direct link to Synchronous Processing" translate="no">​</a></h4>
<p>The message will be processed synchronously. It behaves like any other method call, and the caller doesn&#x27;t need to consider anything special. Synchronous processing is usually chosen for logging purposes only. Restarting such a message doesn&#x27;t make much sense and is not possible! If needed for troubleshooting/debugging, copy the message instead.</p>
<h4 class="anchor anchorTargetHideOnScrollNavbar_vjPI" id="asynchronous-processing">Asynchronous Processing<a href="#asynchronous-processing" class="hash-link" aria-label="Direct link to Asynchronous Processing" title="Direct link to Asynchronous Processing" translate="no">​</a></h4>
<h5 class="anchor anchorTargetHideOnScrollNavbar_vjPI" id="no-queue-transactional">No Queue (Transactional)<a href="#no-queue-transactional" class="hash-link" aria-label="Direct link to No Queue (Transactional)" title="Direct link to No Queue (Transactional)" translate="no">​</a></h5>
<p>Messages will be processed in arbitrary order. Choose one of the options below if the messages are not related to each other.</p>
<h6 class="anchor anchorTargetHideOnScrollNavbar_vjPI" id="automatic-processing">Automatic Processing<a href="#automatic-processing" class="hash-link" aria-label="Direct link to Automatic Processing" title="Direct link to Automatic Processing" translate="no">​</a></h6>
<p>Processing of the message starts immediately as soon as resources are available in the system asynchronously.</p>
<h6 class="anchor anchorTargetHideOnScrollNavbar_vjPI" id="manual-processing">Manual Processing<a href="#manual-processing" class="hash-link" aria-label="Direct link to Manual Processing" title="Direct link to Manual Processing" translate="no">​</a></h6>
<p>New messages are saved in status <code>READY</code>. Processing of the messages must be triggered by going to the I/O monitoring transaction <code>/UBC/IO</code> and restarting a message in status <code>READY</code>. Processing of the message then starts immediately as soon as resources are available asynchronously.</p>
<h5 class="anchor anchorTargetHideOnScrollNavbar_vjPI" id="queue-all-asynchronous-processing">Queue (All Asynchronous Processing)<a href="#queue-all-asynchronous-processing" class="hash-link" aria-label="Direct link to Queue (All Asynchronous Processing)" title="Direct link to Queue (All Asynchronous Processing)" translate="no">​</a></h5>
<p>Messages will be processed in a well-defined order. Choose one of the options below if the messages are related to each other within a queue. The sequence is important!</p>
<p>If the first message in a queue gets stuck due to an error, the queue becomes blocked. Following entries will <strong>not</strong> be processed until the error of the first message is resolved (by acknowledgment or restart).</p>
<p>The queue key can be freely defined (up to 40 characters total) by concatenating parts of the index table (which was mapped from the message payload) or literals (for further distinction).</p>
<p>For example, messages containing a material need to be posted in a defined order to prevent locking and errors. The following configuration constructs a key like <code>MATERIAL_&lt;&lt;matnr&gt;&gt;</code>. Best practice: use literals first to distinguish the type of object to queue (in this example: <code>MATERIAL</code>). The queue key is globally valid across your interfaces.</p>
<p><img decoding="async" loading="lazy" alt="Queue key configuration" src="/assets/images/image_001-ccf7415b0adb9a2d7bc6719ed8e948bb.png" width="1139" height="404" class="img_ev3q"></p>
<div class="theme-admonition theme-admonition-warning admonition_xJq3 alert alert--warning"><div class="admonitionHeading_Gvgb"><span class="admonitionIcon_Rf37"><svg viewBox="0 0 16 16"><path fill-rule="evenodd" d="M8.893 1.5c-.183-.31-.52-.5-.887-.5s-.703.19-.886.5L.138 13.499a.98.98 0 0 0 0 1.001c.193.31.53.501.886.501h13.964c.367 0 .704-.19.877-.5a1.03 1.03 0 0 0 .01-1.002L8.893 1.5zm.133 11.497H6.987v-2.003h2.039v2.003zm0-3.004H6.987V5.987h2.039v4.006z"></path></svg></span>warning</div><div class="admonitionContent_BuS1"><p>Every queue key must match a prefix configured in your target bgRFC destination. See the <a href="#bgrfc-configuration" class="">bgRFC configuration</a> section below.</p></div></div>
<h6 class="anchor anchorTargetHideOnScrollNavbar_vjPI" id="by-creation-timestamp">By Creation Timestamp<a href="#by-creation-timestamp" class="hash-link" aria-label="Direct link to By Creation Timestamp" title="Direct link to By Creation Timestamp" translate="no">​</a></h6>
<p>Entries within a queue are ordered by the creation timestamp (UTC Long) of the message. First in - First out!</p>
<h6 class="anchor anchorTargetHideOnScrollNavbar_vjPI" id="by-message-payload-index">By Message Payload Index<a href="#by-message-payload-index" class="hash-link" aria-label="Direct link to By Message Payload Index" title="Direct link to By Message Payload Index" translate="no">​</a></h6>
<p>You need to additionally specify a field of your index table where the external index is located - mapped from the message payload. An external index is an integer number starting with 1 without gaps. The external index is determined by the sender system and sent within the message payload. This technique is needed, for example, when you have a strict processing order but middleware in place, and you cannot ensure that messages that need to be processed first are also sent first.</p>
<p>Your sender system needs to generate the external index starting with 1.</p>
<p>Let&#x27;s construct an example:</p>
<p>5 messages will be sent in arbitrary order, all allocated to the same queue:</p>
<ul>
<li class="">Message with Index 1</li>
<li class="">Message with Index 3</li>
<li class="">Message with Index 2</li>
<li class="">Message with Index 5</li>
<li class="">Message with Index 4</li>
</ul>
<p>Using external index ensures messages are processed in the correct order:</p>
<ul>
<li class="">Message with Index 1</li>
<li class="">Message with Index 2</li>
<li class="">Message with Index 3</li>
<li class="">Message with Index 4</li>
<li class="">Message with Index 5</li>
</ul>
<p>Processing of the next message in a queue waits until it was written to the queue and then unlocks the processing.</p>
<h3 class="anchor anchorTargetHideOnScrollNavbar_vjPI" id="queue-monitor-ubcio_queue">Queue Monitor <code>/UBC/IO_QUEUE</code><a href="#queue-monitor-ubcio_queue" class="hash-link" aria-label="Direct link to queue-monitor-ubcio_queue" title="Direct link to queue-monitor-ubcio_queue" translate="no">​</a></h3>
<p>This transaction provides an overview of all messages currently organized by a queue. You can see the reasons why messages are waiting (predecessors) and view details. You can jump to the monitor by selecting messages and clicking &quot;monitor&quot;.</p>
<p><img decoding="async" loading="lazy" alt="Queue monitor" src="/assets/images/image_007-16e8f97f4d8adfd35d92fc29957f02fb.png" width="526" height="451" class="img_ev3q"></p>
<h2 class="anchor anchorTargetHideOnScrollNavbar_vjPI" id="development">Development<a href="#development" class="hash-link" aria-label="Direct link to Development" title="Direct link to Development" translate="no">​</a></h2>
<p>This section contains all information needed for developing a new interface, from customizing to development.</p>
<h3 class="anchor anchorTargetHideOnScrollNavbar_vjPI" id="customizing">Customizing<a href="#customizing" class="hash-link" aria-label="Direct link to Customizing" title="Direct link to Customizing" translate="no">​</a></h3>
<h4 class="anchor anchorTargetHideOnScrollNavbar_vjPI" id="interfaces">Interfaces<a href="#interfaces" class="hash-link" aria-label="Direct link to Interfaces" title="Direct link to Interfaces" translate="no">​</a></h4>
<p>Start with transaction <code>/UBC/IO_C</code> to define new interfaces.</p>
<p><img decoding="async" loading="lazy" alt="Interface definition" src="/assets/images/image_008-852159c1f9c21f1dd7fa0d32a31c5953.png" width="1185" height="427" class="img_ev3q"></p>
<ul>
<li class="">
<p><strong>Interface name and description</strong>
As mentioned, UBC.io is organized by interfaces where multiple technical interfaces referring to the same logical unit (e.g., MES interfaces to a production order) are grouped logically.
Interface name is unique, description can be translated.</p>
</li>
<li class="">
<p><strong>Index table</strong>
An index table is intended to hold administrative data for a message such as &quot;status,&quot; &quot;creation date,&quot; etc.
It&#x27;s a customer-created table with a fixed signature (see <a href="#templates" class="">templates</a>) that enables adding custom fields in a dedicated include and mapping message payload data to an index table. In the generic monitoring transactions, you can search/filter on all fields in an index table.
You can also define &quot;Jumps&quot; to transactions using custom logic in <a href="#business-add-ins-badis" class="">BADIs</a>.
If no index table is specified, a default index table is used.</p>
</li>
<li class="">
<p><strong>Queue type</strong> (see <a href="#processing-options-queue-type" class="">Processing options</a>)</p>
</li>
<li class="">
<p><strong>bgRFC destination</strong>
If the chosen queue type is asynchronous, you must define a valid bgRFC inbound destination where entries for an interface will be processed (see <a href="#bgrfc-configuration" class="">system setup</a>)</p>
</li>
<li class="">
<p><strong>Message Index</strong>
If the chosen queue type is <code>Message payload index</code>, you must specify the name of the field in your index table where the external index is stored for queueing.</p>
</li>
<li class="">
<p><strong>Mapping class</strong> (optional)
The given mapping class can override the standard behavior, which applies the customizing <a href="#field-mapping" class="">field mapping</a>. The mapping class must implement the interface <code>/C09/IF_CIO_MAP_IDX_SINGLE</code>. For implementation examples, see default implementation <code>/C09/CL_CIO_MAP_IDX_SINGLE</code>. If the field is empty, the default implementation applies the customizing. Overriding this behavior makes sense when there is complex calculation logic that cannot be defined by customizing.</p>
</li>
<li class="">
<p><strong>Function class</strong> (optional)
I/O monitoring implementation, inheriting from <code>/C09/CL_CIO_LIST</code> to override some default behavior if needed.
If not specified, the default implementation is used. Not needed in most cases. Prefer using <a href="#business-add-ins-badis" class="">BADIs</a> if possible.</p>
</li>
</ul>
<h5 class="anchor anchorTargetHideOnScrollNavbar_vjPI" id="assign-technical-interfaces-to-ubcio-interface">Assign Technical Interfaces to UBC.io Interface<a href="#assign-technical-interfaces-to-ubcio-interface" class="hash-link" aria-label="Direct link to Assign Technical Interfaces to UBC.io Interface" title="Direct link to Assign Technical Interfaces to UBC.io Interface" translate="no">​</a></h5>
<p>The basic concept is that individual functions will be organized by logical I/O interfaces. When a function is triggered, the UBC.io interface is assigned by the runtime. Most of the time this is a 1:1 assignment of function to interface. Technically, a function is a customer-specific class <code>Z_</code>/<code>Y_</code> that implements the interface <code>/UBC/IF_IO_OPERATION</code> and defines the logical message structure (holds all information needed for processing a specific message).</p>
<p><img decoding="async" loading="lazy" alt="Function call assignment" src="/assets/images/image_027-ccf97066ddd3af43e57d4eb10bd57b37.png" width="1319" height="397" class="img_ev3q"></p>
<h6 class="anchor anchorTargetHideOnScrollNavbar_vjPI" id="field-mapping">Field Mapping<a href="#field-mapping" class="hash-link" aria-label="Direct link to Field Mapping" title="Direct link to Field Mapping" translate="no">​</a></h6>
<p>Field mapping is used to map message payload to index table fields for searching/indexing/queueing/overview purposes.</p>
<p><img decoding="async" loading="lazy" alt="Field mapping" src="/assets/images/image_010-5771e9290810f109e8e149979ea25cd8.png" width="1304" height="401" class="img_ev3q"></p>
<ul>
<li class="">
<p><strong>Order</strong>
Mapping order, just increment in customizing defining mapping sequence (most of the time not relevant).</p>
</li>
<li class="">
<p><strong>Field path</strong>
Mapping path to specific field in payload:</p>
<blockquote>
<p>The F4 Help assists in choosing fields</p>
</blockquote>
<ul>
<li class="">Deep navigation: structures/tables separated by -</li>
<li class="">Use search help (F4) for navigating within your payload (if type is known statically)</li>
<li class="">Supports <code>[]</code> for tables<!-- -->
<ul>
<li class="">Access specific index by specifying the index, e.g., [1]</li>
<li class="">Access by specific fields in table (only supporting <code>AND</code> condition), e.g., <code>[fieldA=ABC and fieldB=&#x27;&#x27;]</code></li>
</ul>
</li>
<li class="">Supports substring functionality for elements, e.g., <code>fieldA+1(1)</code> (Offset 1, Length 1 of content in fieldA)</li>
</ul>
</li>
<li class="">
<p><strong>Fieldname table</strong>
Fieldname in index table, custom include.</p>
</li>
<li class="">
<p><strong>Optional</strong>
By default, all mappings that cannot be executed successfully (e.g., due to a missing table entry) result in an error. The system writes an entry to the application log and sets the status to <code>ERROR</code>. Select this checkbox to leave the target field empty instead.<br>
<!-- -->Addtionally, if the target field is empty it will not be mapped to the index table field, preventing any existing value from being overwritten.</p>
</li>
</ul>
<h6 class="anchor anchorTargetHideOnScrollNavbar_vjPI" id="multi-steps-luws">Multi Steps (LUWs)<a href="#multi-steps-luws" class="hash-link" aria-label="Direct link to Multi Steps (LUWs)" title="Direct link to Multi Steps (LUWs)" translate="no">​</a></h6>
<p>An inbound interface can have more than one LUW. For example, when dealing with multiple goods movements in one interface, you must commit each goods movement.</p>
<p>To be restartable, an interface should consist of only one LUW (commit or not).</p>
<p>To fulfill the above requirement, you can configure &quot;multi steps&quot; interfaces to support more than one LUW, controlled by a single interface (and a top-level operation defining the message payload). Please see implementation details: <a href="#multi-step-interfaces" class="">Multi Step Interfaces</a>.</p>
<p><img decoding="async" loading="lazy" alt="Multi steps Customizing" src="/assets/images/image_028-a37c54dbc2a2bfcd5d70e15f7f9f069c.png" width="1731" height="399" class="img_ev3q"></p>
<p>In this scenario, your top-level operation, entered in section <a href="#assign-technical-interfaces-to-ubcio-interface" class="">Assign technical interfaces to UBC.io interface</a>, is just for defining the message payload, which will be shared across the configured steps.</p>
<ul>
<li class="">
<p><strong>Step Number</strong>
Key of the table + the defined execution order of the steps.
The execution order is by the sequence of steps, either processing started where the execution last stopped due to an error OR with the first step</p>
</li>
<li class="">
<p><strong>Class name</strong>, implementing the Step interface executing Step logic</p>
</li>
<li class="">
<p><strong>Commit mode</strong>
Since no Step logic should ever contain a <code>COMMIT WORK</code> or <code>ROLLBACK WORK</code>, specify the commit mode after each step.</p>
</li>
<li class="">
<p><strong>Continue on Error</strong>
Ignore errors, complete step, and continue with execution.</p>
</li>
<li class="">
<p><strong>Restart always</strong>
If step 10 was completed and 20 fails, on restart step 10 will not be executed again. Except in the case that step 10 was marked as &quot;restart always.&quot;</p>
</li>
</ul>
<h6 class="anchor anchorTargetHideOnScrollNavbar_vjPI" id="multi-index-tables">Multi-Index Tables<a href="#multi-index-tables" class="hash-link" aria-label="Direct link to Multi-Index Tables" title="Direct link to Multi-Index Tables" translate="no">​</a></h6>
<p>Sometimes there are more complex use cases where you would like to search for field values in a table. Imagine having a payload like:</p>
<div class="language-json codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-json codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token property" style="color:#36acaa">&quot;order_header&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token property" style="color:#36acaa">&quot;incoterm&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;abc&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token property" style="color:#36acaa">&quot;shipTo&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">4711</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token property" style="color:#36acaa">&quot;order_items&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token property" style="color:#36acaa">&quot;material&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;123&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token property" style="color:#36acaa">&quot;plant&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;0001&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token property" style="color:#36acaa">&quot;material&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;456&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token property" style="color:#36acaa">&quot;plant&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;0002&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token property" style="color:#36acaa">&quot;material&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;789&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token property" style="color:#36acaa">&quot;plant&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;0003&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><br></span></code></pre></div></div>
<p>You may want to search for messages regarding material &quot;456&quot;. Since <code>order_items</code> is a table, it cannot be mapped to a flat single index table for searching.</p>
<p>This is where &quot;Multi-Index tables&quot; comes in.</p>
<p><img decoding="async" loading="lazy" alt="Multi Index table header" src="/assets/images/image_015-29fc595aad6411a59f769d7988a2bba1.png" width="1341" height="423" class="img_ev3q"></p>
<ul>
<li class="">
<p><strong>Multi-Index table</strong>
A Multi-Index table is intended to have an entry for every line in the specified table.
It&#x27;s a customer-created table with a fixed signature, see <a href="#templates" class="">templates</a>: copy table <code>/UBC/IO_TTPLMIDX</code> and replace the fields <code>matnr</code> and <code>charge</code> with your custom ones.
In the generic monitoring transactions, you can search for all fields in the multi-index table out-of-the-box. Please note that this only applies to the selection screen, as this doesn&#x27;t really make sense for the result list.</p>
<div class="theme-admonition theme-admonition-warning admonition_xJq3 alert alert--warning"><div class="admonitionHeading_Gvgb"><span class="admonitionIcon_Rf37"><svg viewBox="0 0 16 16"><path fill-rule="evenodd" d="M8.893 1.5c-.183-.31-.52-.5-.887-.5s-.703.19-.886.5L.138 13.499a.98.98 0 0 0 0 1.001c.193.31.53.501.886.501h13.964c.367 0 .704-.19.877-.5a1.03 1.03 0 0 0 .01-1.002L8.893 1.5zm.133 11.497H6.987v-2.003h2.039v2.003zm0-3.004H6.987V5.987h2.039v4.006z"></path></svg></span>warning</div><div class="admonitionContent_BuS1"><p>Since the Multi-Index and Single Index tables are different ones, the results are technically combined with &quot;logical AND&quot;. If one entry in the list of &quot;multi-index entries&quot; is matching, the message is considered a match.</p></div></div>
</li>
<li class="">
<p><strong>Base path</strong>
Specify a tabular component within your actual payload structure. The standard implementation <strong>currently</strong> only supports tables, not tables within tables.
You are free to use expressions like <code>item[1]-schedules</code>, but <code>items-schedules</code> is not supported. The last component needs to be a table to be considered for the multi-index set.</p>
</li>
<li class="">
<p><strong>Mapping class</strong> (optional)
The given mapping class can override the standard behavior, which applies the customizing for field mapping at the level below. The mapping class must implement the interface <code>/C09/IF_CIO_MAP_IDX_MULTI</code>. For implementation examples, see default implementation <code>/C09/CL_CIO_MAP_IDX_MULTI</code>. If the field is empty, the default implementation applies the customizing. Overriding this behavior makes sense when there is complex calculation logic that cannot be defined by customizing.</p>
</li>
</ul>
<p><strong>Field mapping</strong>
For details, please see section <a href="#field-mapping" class="">field mapping</a>.
The same applies here, with the following additions/restrictions:</p>
<ul>
<li class="">The base path (see above) will be respected, so you will have only elements available for the standard mapping contained in the specified table.
<img decoding="async" loading="lazy" alt="field mapping multi index" src="/assets/images/image_016-bc0ef91cb7cbccfe67b0a462b5feb439.png" width="1449" height="895" class="img_ev3q">
(in this example: only elements contained in <code>IT_ITEM</code> specified above, you are free to apply the well-known mapping syntax here)</li>
<li class="">All mappings are optional, not throwing any error</li>
</ul>
<p>Coming back to our initial example, that means we have 4 index table entries in general:</p>
<ul>
<li class="">1 for the message itself in the single index table</li>
<li class="">3 entries in the Multi-Index table</li>
</ul>
<p>The generic <a href="#io-detail-monitor-ubcio" class="">I/O monitor</a> respects the Multi-Index entries and adds the fields to the selection screen as well.</p>
<h6 class="anchor anchorTargetHideOnScrollNavbar_vjPI" id="acknowledge-function">Acknowledge Function<a href="#acknowledge-function" class="hash-link" aria-label="Direct link to Acknowledge Function" title="Direct link to Acknowledge Function" translate="no">​</a></h6>
<p>On the <a href="#assign-technical-interfaces-to-ubcio-interface" class="">Function level</a>, an acknowledge function can also be assigned. The function will be called when a message is acknowledged. It is useful, for example, when we need to send additional information to a subsequent system. The implementation is similar to a step in a &quot;Multi Step scenario&quot;, basically a class implementing the interface <code>/UBC/IF_IO_OPERATION_ACK</code>. See template class <code>/UBC/CL_IO_TEMPLATE_SINGLE_ACK</code> for example.</p>
<h5 class="anchor anchorTargetHideOnScrollNavbar_vjPI" id="queue-keys">Queue Keys<a href="#queue-keys" class="hash-link" aria-label="Direct link to Queue Keys" title="Direct link to Queue Keys" translate="no">​</a></h5>
<p>Mapping from Index Table Fields and/or Literals to Queue keys.
Please consider the following best practice to avoid queue name conflicts: as a queue prefix, always start with the type the queue key represents.</p>
<p>For example:
<img decoding="async" loading="lazy" alt="Queue Key Example for Material" src="/assets/images/image_001-ccf7415b0adb9a2d7bc6719ed8e948bb.png" width="1139" height="404" class="img_ev3q"></p>
<p>You can see that the queue starts with the literal <code>MATERIAL_</code> and then adds the material number. A queue example would be <code>MATERIAL_4711</code>.</p>
<p>By default, alpha conversion is applied to a field value.
The queue key will be concatenated according to the given sequence. You are free to add as many fields and literals to your queue key as needed. Just consider the limit of 40 characters total.</p>
<h4 class="anchor anchorTargetHideOnScrollNavbar_vjPI" id="auto-restart">Auto Restart<a href="#auto-restart" class="hash-link" aria-label="Direct link to Auto Restart" title="Direct link to Auto Restart" translate="no">​</a></h4>
<p>First, define an Auto Restart group in View Cluster Entry <code>restart groups</code>. This defines the &quot;maximum runs&quot; and wait time between runs.</p>
<p>You must assign specific combinations of <code>T100</code> Message-Id and -Number. As soon as the error of an interface contains a message configured in its Auto Restart group, it will be considered. If an error message is not configured within the restart group, it will not be considered.</p>
<p>The following applies for the Message Keys:</p>
<ul>
<li class="">For Message Number, make sure to specify the full key with leading zeros (<code>001</code> and not <code>1</code>)</li>
<li class="">You are allowed to use patterns like <code>*</code> and <code>+</code> for Message Class and Number</li>
<li class="">If you leave a field (Message Class or Number) empty, it acts like a <code>*</code> wildcard for that field</li>
</ul>
<p>For example, you will define the <code>T100</code> Message Combination for &quot;Message is locked&quot; and define that the restart can be tried again in 5 minutes for 3 attempts.
If the material is locked again, the message won&#x27;t be auto-restarted again.</p>
<p><img decoding="async" loading="lazy" alt="Auto Restart Group" src="/assets/images/image_013-c6f97100c65ed9446306ef8f98d5f844.png" width="1148" height="401" class="img_ev3q">
<img decoding="async" loading="lazy" alt="Assignment of Messages" src="/assets/images/image_014-a72b8e3f3f1080c32616d944ec85cefd.png" width="1201" height="406" class="img_ev3q"></p>
<p>Finally, the Auto Restart Group needs to be assigned to an Interface Function assignment at level <code>functions</code> in view cluster.</p>
<div class="theme-admonition theme-admonition-info admonition_xJq3 alert alert--info"><div class="admonitionHeading_Gvgb"><span class="admonitionIcon_Rf37"><svg viewBox="0 0 14 16"><path fill-rule="evenodd" d="M7 2.3c3.14 0 5.7 2.56 5.7 5.7s-2.56 5.7-5.7 5.7A5.71 5.71 0 0 1 1.3 8c0-3.14 2.56-5.7 5.7-5.7zM7 1C3.14 1 0 4.14 0 8s3.14 7 7 7 7-3.14 7-7-3.14-7-7-7zm1 3H6v5h2V4zm0 6H6v2h2v-2z"></path></svg></span>info</div><div class="admonitionContent_BuS1"><p>Auto restart only makes sense for <a href="#asynchronous-processing" class="">asynchronous interfaces</a>, as for <a href="#synchronous-processing" class="">synchronous</a> the caller usually waits for the response to process it. Thus, the Auto restart feature only respects <a href="#asynchronous-processing" class="">asynchronous messages</a>.</p></div></div>
<h4 class="anchor anchorTargetHideOnScrollNavbar_vjPI" id="workflow-integration">Workflow Integration<a href="#workflow-integration" class="hash-link" aria-label="Direct link to Workflow Integration" title="Direct link to Workflow Integration" translate="no">​</a></h4>
<p>The concept for Workflow Integration is the same as for Auto Restart Groups.</p>
<ul>
<li class="">
<p>Create a workflow definition and implement the workflow, transaction <code>/C09/CONFLOW_C</code>. Please note that currently, only UBC.flow workflows are supported! See <a href="https://conflow-help.com" target="_blank" rel="noopener noreferrer" class="">product documentation</a> for detailed and generic infos. Since this is highly customer-specific, we cannot provide an out-of-the-box implementation. Please see below for an example as a quick start.</p>
</li>
<li class="">
<p>Link the newly created workflow to the interface:
Starting with Transaction <code>/UBC/IO_CFL_C</code>, create a Workflow Group.</p>
</li>
<li class="">
<p>In the view cluster entry <code>mapping groups &lt;&gt; messages</code>, assign <code>T100</code> Message-Id and -Number combination and a target Workflow-Definition-Id to be started.
For every matching message in a message run, the target Workflow will be started.
<img decoding="async" loading="lazy" alt="mapping groups messages example" src="/assets/images/image_017-7a6ccd2557849a69fa3dde8594477801.png" width="835" height="338" class="img_ev3q"></p>
</li>
</ul>
<div class="theme-admonition theme-admonition-info admonition_xJq3 alert alert--info"><div class="admonitionHeading_Gvgb"><span class="admonitionIcon_Rf37"><svg viewBox="0 0 14 16"><path fill-rule="evenodd" d="M7 2.3c3.14 0 5.7 2.56 5.7 5.7s-2.56 5.7-5.7 5.7A5.71 5.71 0 0 1 1.3 8c0-3.14 2.56-5.7 5.7-5.7zM7 1C3.14 1 0 4.14 0 8s3.14 7 7 7 7-3.14 7-7-3.14-7-7-7zm1 3H6v5h2V4zm0 6H6v2h2v-2z"></path></svg></span>info</div><div class="admonitionContent_BuS1"><p>Workflows will be triggered only if the message is not auto-restartable anymore, meaning the maximum retries were reached or auto restart was not configured.</p></div></div>
<p><strong>Example use case:</strong><br>
<!-- -->Alerting an erroneous message by given message, e.g., &quot;Material is locked.&quot;
At first glance, triggering workflows for alerting seems complicated. But most of the time, it is highly recommended not to just trigger emails. Instead, we can easily use dialog work items and model more complex workflows if needed. Using the workflow approach, we can stick to the same procedure and just change some customizing. Start simple (only with mail alerting) and refine the flow if needed.
:::</p>
<h5 class="anchor anchorTargetHideOnScrollNavbar_vjPI" id="example-implementation">Example Implementation<a href="#example-implementation" class="hash-link" aria-label="Direct link to Example Implementation" title="Direct link to Example Implementation" translate="no">​</a></h5>
<p>In the following, we provide an example implementation of a workflow that just triggers an email. See above for linking the workflow definition to the <code>T100</code> message.</p>
<ul>
<li class="">
<p>Create the workflow definition in <code>/UBC/FLOW_C</code></p>
</li>
<li class="">
<p>Go to <strong>Approval steps</strong> and create all possible workflow steps.</p>
<div class="theme-admonition theme-admonition-tip admonition_xJq3 alert alert--success"><div class="admonitionHeading_Gvgb"><span class="admonitionIcon_Rf37"><svg viewBox="0 0 12 16"><path fill-rule="evenodd" d="M6.5 0C3.48 0 1 2.19 1 5c0 .92.55 2.25 1 3 1.34 2.25 1.78 2.78 2 4v1h5v-1c.22-1.22.66-1.75 2-4 .45-.75 1-2.08 1-3 0-2.81-2.48-5-5.5-5zm3.64 7.48c-.25.44-.47.8-.67 1.11-.86 1.41-1.25 2.06-1.45 3.23-.02.05-.02.11-.02.17H5c0-.06 0-.13-.02-.17-.2-1.17-.59-1.83-1.45-3.23-.2-.31-.42-.67-.67-1.11C2.44 6.78 2 5.65 2 5c0-2.2 2.02-4 4.5-4 1.22 0 2.36.42 3.22 1.19C10.55 2.94 11 3.94 11 5c0 .66-.44 1.78-.86 2.48zM4 14h5c-.23 1.14-1.3 2-2.5 2s-2.27-.86-2.5-2z"></path></svg></span>tip</div><div class="admonitionContent_BuS1"><p><strong>X0</strong>, <strong>X1</strong>, and <strong>X2</strong> are predefined ones and should always be created.</p></div></div>
<p><img decoding="async" loading="lazy" alt="Workflow Approval Steps" src="/assets/images/image_018-ef688dbfcdc60a379f87606b24158d9b.png" width="1863" height="306" class="img_ev3q"></p>
</li>
<li class="">
<p>Go to <strong>User Status Definition</strong> and create user status for involved user groups. Best practice is to have at least <strong>Initiator</strong> and <strong>Background</strong>.
<img decoding="async" loading="lazy" alt="Workflow User Status Definition" src="/assets/images/image_019-717d372c48f3dd3349fa0c70784527fc.png" width="769" height="317" class="img_ev3q"></p>
</li>
<li class="">
<p>Go to <strong>User Status Assignment</strong> and assign users to your user groups. Depending on whether you would like to transport the entries, choose the right entry in the view cluster.</p>
<div class="theme-admonition theme-admonition-warning admonition_xJq3 alert alert--warning"><div class="admonitionHeading_Gvgb"><span class="admonitionIcon_Rf37"><svg viewBox="0 0 16 16"><path fill-rule="evenodd" d="M8.893 1.5c-.183-.31-.52-.5-.887-.5s-.703.19-.886.5L.138 13.499a.98.98 0 0 0 0 1.001c.193.31.53.501.886.501h13.964c.367 0 .704-.19.877-.5a1.03 1.03 0 0 0 .01-1.002L8.893 1.5zm.133 11.497H6.987v-2.003h2.039v2.003zm0-3.004H6.987V5.987h2.039v4.006z"></path></svg></span>warning</div><div class="admonitionContent_BuS1"><p>Make sure to use one OR the other. Entries in both are <strong>not supported</strong>.</p></div></div>
<p><img decoding="async" loading="lazy" alt="Workflow User Status Assignment" src="/assets/images/image_020-53d82e142af6747be9f89710aa9cefe3.png" width="1153" height="379" class="img_ev3q"></p>
</li>
<li class="">
<p>Define the actual flow by switching to <strong>Approval status - control</strong>. Always start with <strong>X0</strong> and end with <strong>X1</strong> or <strong>X2</strong>.
Here, the one and only background step does not have any action assigned and always results in <strong>OK</strong>. The workflow then ends directly after sending the mail.
<img decoding="async" loading="lazy" alt="Workflow Approval status - control" src="/assets/images/image_021-fc3c05a76472fab455064cf6cc38d087.png" width="1502" height="346" class="img_ev3q"></p>
</li>
<li class="">
<p>Optionally define mail settings by switching to <strong>Control mail setting</strong>. You are free to configure mail hooks by reaching certain results of the step.
<img decoding="async" loading="lazy" alt="Workflow Control mail setting" src="/assets/images/image_023-58f43c011543d5dec0c612d881b307c3.png" width="1347" height="341" class="img_ev3q">
Here is an example of the resulting mail:
<img decoding="async" loading="lazy" alt="Mail example" src="/assets/images/image_022-d90d8d1a72c5b57115e56cb268a5a13c.png" width="887" height="381" class="img_ev3q"></p>
<p>A few notes:</p>
<ul>
<li class="">The HTML template <code>/UBC/S17_MAIL_TEMPLATE</code> was used and is delivered with every UBC installation. You are free to use your own HTML mail template. Just upload a new one in transaction <code>SMW0</code>; you may copy from the existing template.</li>
<li class="">The Subject and Text Text-IDs are maintained and translated in transaction <code>SO10</code>. Make use of variables.<!-- -->
<ul>
<li class="">Subject <code>ZUBC_DEMO_SUBJECT_113</code>
<img decoding="async" loading="lazy" alt="ZUBC_DEMO_SUBJECT_113" src="/assets/images/image_025-0482f1002231aace1a501c22226f9caf.png" width="1272" height="203" class="img_ev3q"></li>
<li class="">Text <code>ZUBC_DEMO_ERROR_113</code>
<img decoding="async" loading="lazy" alt="ZUBC_DEMO_ERROR_113" src="/assets/images/image_026-f712f33aa680ed29af1862024ce54dce.png" width="1267" height="474" class="img_ev3q"></li>
</ul>
</li>
</ul>
</li>
<li class="">
<p>Now create an implementation for your workflow by creating a BADI and filtering (!) to your definition.
<img decoding="async" loading="lazy" alt="BADI implementation" src="/assets/images/image_024-80c4e6af53c2fc07ab2969f9dd013228.png" width="1369" height="365" class="img_ev3q"></p>
</li>
<li class="">
<p>Please find the example ABAP implementation below.</p>
<div class="language-abap codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-abap codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token keyword" style="color:#00009f">class</span><span class="token plain"> zubc_cl_cfl_badi_113 </span><span class="token keyword" style="color:#00009f">definition</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token keyword" style="color:#00009f">public</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token keyword" style="color:#00009f">create</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">public</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token keyword" style="color:#00009f">public</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">section</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">interfaces</span><span class="token plain"> if_badi_interface</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">interfaces</span><span class="token plain"> /c09/cfl_if_badi_0101</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token keyword" style="color:#00009f">protected</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">section</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">methods</span><span class="token plain"> get_io_attributes</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token keyword" style="color:#00009f">importing</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        iv_instid </span><span class="token keyword" style="color:#00009f">type</span><span class="token plain"> /c09/cfl_s01</span><span class="token token-operator punctuation" style="color:#393A34">-</span><span class="token plain">instid</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token keyword" style="color:#00009f">exporting</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        ev_msg_id </span><span class="token keyword" style="color:#00009f">type</span><span class="token plain"> /c09/cio_msgguid</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        ev_ifname </span><span class="token keyword" style="color:#00009f">type</span><span class="token plain"> /c09/cio_ifname</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">methods</span><span class="token plain"> get_io_message</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token keyword" style="color:#00009f">importing</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        iv_instid        </span><span class="token keyword" style="color:#00009f">type</span><span class="token plain"> /c09/cfl_s01</span><span class="token token-operator punctuation" style="color:#393A34">-</span><span class="token plain">instid</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token keyword" style="color:#00009f">returning</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token keyword" style="color:#00009f">value</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">ro_result</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">type</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">ref</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">to</span><span class="token plain"> /c09/cl_cio_msg</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token keyword" style="color:#00009f">private</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">section</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">endclass</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">class</span><span class="token plain"> zubc_cl_cfl_badi_113 </span><span class="token keyword" style="color:#00009f">implementation</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token keyword" style="color:#00009f">method</span><span class="token plain"> /c09/cfl_if_badi_0101</span><span class="token token-operator punctuation" style="color:#393A34">~</span><span class="token plain">execute_default_method</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token eol-comment comment" style="color:#999988;font-style:italic">&quot; jump to I/O when clicking on linked object</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    get_io_attributes</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">exporting</span><span class="token plain"> iv_instid </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> /c09/cfl_cl_workflow_0101</span><span class="token token-operator punctuation" style="color:#393A34">=&gt;</span><span class="token plain">ms_instances</span><span class="token token-operator punctuation" style="color:#393A34">-</span><span class="token plain">instance</span><span class="token token-operator punctuation" style="color:#393A34">-&gt;</span><span class="token plain">ms_data</span><span class="token token-operator punctuation" style="color:#393A34">-</span><span class="token plain">instid</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                      </span><span class="token keyword" style="color:#00009f">importing</span><span class="token plain"> ev_msg_id </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">data</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">lv_msg_id</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                                ev_ifname </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">data</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">lv_ifname</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">call</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">function</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&#x27;/C09/CIO_START&#x27;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token keyword" style="color:#00009f">exporting</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        p_skip_se16n </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> abap_true</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        irt_ifname   </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">value</span><span class="token plain"> /c09/if_cio</span><span class="token token-operator punctuation" style="color:#393A34">=&gt;</span><span class="token plain">trt_ifname</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">sign</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&#x27;I&#x27;</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">option</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&#x27;EQ&#x27;</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">low</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> lv_ifname </span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        irt_msgguid  </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">value</span><span class="token plain"> /c09/if_cio</span><span class="token token-operator punctuation" style="color:#393A34">=&gt;</span><span class="token plain">trt_msgguid</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">sign</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&#x27;I&#x27;</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">option</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&#x27;EQ&#x27;</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">low</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> lv_msg_id </span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token keyword" style="color:#00009f">endmethod</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token keyword" style="color:#00009f">method</span><span class="token plain"> /c09/cfl_if_badi_0101</span><span class="token token-operator punctuation" style="color:#393A34">~</span><span class="token plain">get_add_attachments</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token eol-comment comment" style="color:#999988;font-style:italic">&quot; add link to I/O as Attachment to mail</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    get_io_attributes</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">exporting</span><span class="token plain"> iv_instid </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> is_data</span><span class="token token-operator punctuation" style="color:#393A34">-</span><span class="token plain">instid</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                      </span><span class="token keyword" style="color:#00009f">importing</span><span class="token plain"> ev_msg_id </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">data</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">lv_msg_id</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                                ev_ifname </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">data</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">lv_ifname</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">try</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token keyword" style="color:#00009f">insert</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">lines</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">of</span><span class="token plain"> /ubc/cl_tools</span><span class="token token-operator punctuation" style="color:#393A34">=&gt;</span><span class="token plain">get_instance</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain">-&gt;get_gui_transaction_shortcut</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            iv_name_base   </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&#x27;Shortcut&#x27;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            iv_transaction </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> /ubc/if_constants</span><span class="token token-operator punctuation" style="color:#393A34">=&gt;</span><span class="token plain">mc_cio</span><span class="token token-operator punctuation" style="color:#393A34">-</span><span class="token plain">transaction_single</span><span class="token token-operator punctuation" style="color:#393A34">-</span><span class="token plain">tcode</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            it_parameter   </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">value</span><span class="token plain"> #</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                </span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">name</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> /ubc/if_constants</span><span class="token token-operator punctuation" style="color:#393A34">=&gt;</span><span class="token plain">mc_cio</span><span class="token token-operator punctuation" style="color:#393A34">-</span><span class="token plain">transaction_single</span><span class="token token-operator punctuation" style="color:#393A34">-</span><span class="token plain">parameters</span><span class="token token-operator punctuation" style="color:#393A34">-</span><span class="token plain">message_id </span><span class="token keyword" style="color:#00009f">value</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> lv_msg_id </span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                </span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">name</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> /ubc/if_constants</span><span class="token token-operator punctuation" style="color:#393A34">=&gt;</span><span class="token plain">mc_cio</span><span class="token token-operator punctuation" style="color:#393A34">-</span><span class="token plain">transaction_single</span><span class="token token-operator punctuation" style="color:#393A34">-</span><span class="token plain">parameters</span><span class="token token-operator punctuation" style="color:#393A34">-</span><span class="token plain">interface_name </span><span class="token keyword" style="color:#00009f">value</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> lv_ifname </span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">              </span><span class="token keyword" style="color:#00009f">into</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">table</span><span class="token plain"> ct_attachment</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token keyword" style="color:#00009f">catch</span><span class="token plain"> /ubc/cx_core</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">endtry</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token keyword" style="color:#00009f">endmethod</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token keyword" style="color:#00009f">method</span><span class="token plain"> /c09/cfl_if_badi_0101</span><span class="token token-operator punctuation" style="color:#393A34">~</span><span class="token plain">get_datasource_mail</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">try</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token keyword" style="color:#00009f">data</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">lo_msg</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> get_io_message</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain"> is_data</span><span class="token token-operator punctuation" style="color:#393A34">-</span><span class="token plain">instid </span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token keyword" style="color:#00009f">if</span><span class="token plain"> lo_msg </span><span class="token keyword" style="color:#00009f">is</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">not</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">bound</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">          </span><span class="token keyword" style="color:#00009f">return</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token keyword" style="color:#00009f">endif</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token eol-comment comment" style="color:#999988;font-style:italic">&quot; for usage in SO10 text variables, e.g. &amp;/C09/CIO_IDX_ADMIN_EXTERNAL-NAME&amp;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        /c09/cfl_cl_helper_0101</span><span class="token token-operator punctuation" style="color:#393A34">=&gt;</span><span class="token plain">add_datasource_mail</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">exporting</span><span class="token plain"> is_datastruc         </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> lo_msg</span><span class="token token-operator punctuation" style="color:#393A34">-&gt;</span><span class="token plain">mr_admin</span><span class="token token-operator punctuation" style="color:#393A34">-&gt;</span><span class="token plain">_external</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                                                      </span><span class="token keyword" style="color:#00009f">changing</span><span class="token plain">  ct_application_input </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> ct_application_input </span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token keyword" style="color:#00009f">data</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">lo_tools</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> /ubc/cl_tools</span><span class="token token-operator punctuation" style="color:#393A34">=&gt;</span><span class="token plain">get_instance</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token eol-comment comment" style="color:#999988;font-style:italic">&quot; set messages, link with SO10 main text</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token keyword" style="color:#00009f">data</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">lt_message</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> lo_tools</span><span class="token token-operator punctuation" style="color:#393A34">-&gt;</span><span class="token plain">convert_messages_bal_2_bapiret</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain"> lo_msg</span><span class="token token-operator punctuation" style="color:#393A34">-&gt;</span><span class="token plain">get_bal_messages</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token keyword" style="color:#00009f">insert</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">value</span><span class="token plain"> #</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            tdname </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&#x27;LOG_MESSAGES&#x27;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            tlines </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> lo_tools</span><span class="token token-operator punctuation" style="color:#393A34">-&gt;</span><span class="token plain">convert_text_to_tlines_flat</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain"> lo_tools</span><span class="token token-operator punctuation" style="color:#393A34">-&gt;</span><span class="token plain">build_html_table_for_bapiret2</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain"> lt_message </span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">              </span><span class="token keyword" style="color:#00009f">into</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">table</span><span class="token plain"> ct_so10_text ##NO_TEXT</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token eol-comment comment" style="color:#999988;font-style:italic">&quot; add webgui link, link with SO10 main text</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token keyword" style="color:#00009f">data</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">lv_link</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> lo_tools</span><span class="token token-operator punctuation" style="color:#393A34">-&gt;</span><span class="token plain">get_gui_transaction_link</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            iv_transaction </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> /ubc/if_constants</span><span class="token token-operator punctuation" style="color:#393A34">=&gt;</span><span class="token plain">mc_cio</span><span class="token token-operator punctuation" style="color:#393A34">-</span><span class="token plain">transaction_single</span><span class="token token-operator punctuation" style="color:#393A34">-</span><span class="token plain">tcode</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            it_parameter   </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">value</span><span class="token plain"> #</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                </span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">name</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> /ubc/if_constants</span><span class="token token-operator punctuation" style="color:#393A34">=&gt;</span><span class="token plain">mc_cio</span><span class="token token-operator punctuation" style="color:#393A34">-</span><span class="token plain">transaction_single</span><span class="token token-operator punctuation" style="color:#393A34">-</span><span class="token plain">parameters</span><span class="token token-operator punctuation" style="color:#393A34">-</span><span class="token plain">message_id </span><span class="token keyword" style="color:#00009f">value</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> lo_msg</span><span class="token token-operator punctuation" style="color:#393A34">-&gt;</span><span class="token plain">mr_key</span><span class="token token-operator punctuation" style="color:#393A34">-&gt;</span><span class="token plain">msgguid </span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                </span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">name</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> /ubc/if_constants</span><span class="token token-operator punctuation" style="color:#393A34">=&gt;</span><span class="token plain">mc_cio</span><span class="token token-operator punctuation" style="color:#393A34">-</span><span class="token plain">transaction_single</span><span class="token token-operator punctuation" style="color:#393A34">-</span><span class="token plain">parameters</span><span class="token token-operator punctuation" style="color:#393A34">-</span><span class="token plain">interface_name </span><span class="token keyword" style="color:#00009f">value</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> lo_msg</span><span class="token token-operator punctuation" style="color:#393A34">-&gt;</span><span class="token plain">mr_admin</span><span class="token token-operator punctuation" style="color:#393A34">-&gt;</span><span class="token plain">name </span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token keyword" style="color:#00009f">insert</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">value</span><span class="token plain"> #</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain"> tdname </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&#x27;WEBGUI_LINK&#x27;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                        tlines </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> lo_tools</span><span class="token token-operator punctuation" style="color:#393A34">-&gt;</span><span class="token plain">convert_text_to_tlines_flat</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain"> lv_link </span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">              </span><span class="token keyword" style="color:#00009f">into</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">table</span><span class="token plain"> ct_so10_text ##NO_TEXT</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token keyword" style="color:#00009f">catch</span><span class="token plain"> /ubc/cx_core</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">endtry</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token keyword" style="color:#00009f">endmethod</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token keyword" style="color:#00009f">method</span><span class="token plain"> /c09/cfl_if_badi_0101</span><span class="token token-operator punctuation" style="color:#393A34">~</span><span class="token plain">get_description</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">data</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">lo_message</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> get_io_message</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain"> is_data</span><span class="token token-operator punctuation" style="color:#393A34">-</span><span class="token plain">instid </span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">if</span><span class="token plain"> lo_message </span><span class="token keyword" style="color:#00009f">is</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">not</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">bound</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token keyword" style="color:#00009f">return</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">endif</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">replace</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">first</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">occurrence</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">of</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&#x27;&amp;MSG&amp;&#x27;</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">in</span><span class="token plain"> cv_description </span><span class="token keyword" style="color:#00009f">with</span><span class="token plain"> </span><span class="token token-operator punctuation" style="color:#393A34">|</span><span class="token string-template string" style="color:#e3116c"></span><span class="token token-operator punctuation" style="color:#393A34">{</span><span class="token plain"> lo_message</span><span class="token token-operator punctuation" style="color:#393A34">-&gt;</span><span class="token plain">mr_admin</span><span class="token token-operator punctuation" style="color:#393A34">-&gt;</span><span class="token plain">msgnumber </span><span class="token keyword" style="color:#00009f">alpha</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">out</span><span class="token plain"> </span><span class="token token-operator punctuation" style="color:#393A34">}</span><span class="token string-template string" style="color:#e3116c"></span><span class="token token-operator punctuation" style="color:#393A34">|</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">replace</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">first</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">occurrence</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">of</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&#x27;&amp;IF&amp;&#x27;</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">in</span><span class="token plain"> cv_description </span><span class="token keyword" style="color:#00009f">with</span><span class="token plain"> lo_message</span><span class="token token-operator punctuation" style="color:#393A34">-&gt;</span><span class="token plain">mr_admin</span><span class="token token-operator punctuation" style="color:#393A34">-&gt;</span><span class="token plain">name</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token keyword" style="color:#00009f">endmethod</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token keyword" style="color:#00009f">method</span><span class="token plain"> /c09/cfl_if_badi_0101</span><span class="token token-operator punctuation" style="color:#393A34">~</span><span class="token plain">get_object_info</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    cv_return </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&#x27;I/O message&#x27;</span><span class="token punctuation" style="color:#393A34">(</span><span class="token number" style="color:#36acaa">001</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token keyword" style="color:#00009f">endmethod</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token keyword" style="color:#00009f">method</span><span class="token plain"> get_io_attributes</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    /c09/cl_cio_cfl</span><span class="token token-operator punctuation" style="color:#393A34">=&gt;</span><span class="token plain">get_instance</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain">-&gt;get_attributes_for_instid</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">exporting</span><span class="token plain"> iv_instid </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> iv_instid</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                                                                </span><span class="token keyword" style="color:#00009f">importing</span><span class="token plain"> ev_msg_id </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> ev_msg_id</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                                                                          ev_ifname </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> ev_ifname </span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token keyword" style="color:#00009f">endmethod</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token keyword" style="color:#00009f">method</span><span class="token plain"> get_io_message</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    get_io_attributes</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">exporting</span><span class="token plain"> iv_instid </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> iv_instid</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                      </span><span class="token keyword" style="color:#00009f">importing</span><span class="token plain"> ev_msg_id </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">data</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">lv_msg_id</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                                ev_ifname </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">data</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">lv_ifname</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">check</span><span class="token plain"> lv_msg_id </span><span class="token keyword" style="color:#00009f">is</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">not</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">initial</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    ro_result </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> /c09/cl_cio_msg</span><span class="token token-operator punctuation" style="color:#393A34">=&gt;</span><span class="token plain">get_instance</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain"> iv_msgguid </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> lv_msg_id</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                                              iv_ifname  </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> lv_ifname </span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token keyword" style="color:#00009f">endmethod</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">endclass</span><span class="token punctuation" style="color:#393A34">.</span><br></span></code></pre></div></div>
</li>
</ul>
<h3 class="anchor anchorTargetHideOnScrollNavbar_vjPI" id="implementation">Implementation<a href="#implementation" class="hash-link" aria-label="Direct link to Implementation" title="Direct link to Implementation" translate="no">​</a></h3>
<div class="theme-admonition theme-admonition-warning admonition_xJq3 alert alert--warning"><div class="admonitionHeading_Gvgb"><span class="admonitionIcon_Rf37"><svg viewBox="0 0 16 16"><path fill-rule="evenodd" d="M8.893 1.5c-.183-.31-.52-.5-.887-.5s-.703.19-.886.5L.138 13.499a.98.98 0 0 0 0 1.001c.193.31.53.501.886.501h13.964c.367 0 .704-.19.877-.5a1.03 1.03 0 0 0 .01-1.002L8.893 1.5zm.133 11.497H6.987v-2.003h2.039v2.003zm0-3.004H6.987V5.987h2.039v4.006z"></path></svg></span>warning</div><div class="admonitionContent_BuS1"><p>Please ensure the following:</p><ul>
<li class="">Implement your solution without technical errors (“no shortdumps”).</li>
<li class="">Return meaningful errors from your interfaces (<code>IO_OPERATION-&gt;MESSAGES</code>) and avoid statements that interrupt message processing unexpectedly, such as <code>MESSAGE TYPE &#x27;E&#x27;</code>.</li>
</ul><p>Failure to follow these guidelines will break the persistence rules and may result in inconsistencies such as:</p><ul>
<li class="">Missing runs</li>
<li class="">Status shown as &quot;Pending&quot; instead of &quot;Error&quot;</li>
</ul><p>While these issues may not be critical from a transactional perspective, they are undesirable from an error-handling perspective and may lead to user confusion.</p></div></div>
<p>Every <a href="#assign-technical-interfaces-to-ubcio-interface" class="">Top-Level &quot;Operation&quot; Class</a> must implement the interface <code>/UBC/IF_IO_OPERATION</code>. Every public and non-read-only attribute of the class will be visible and accessible by UBC.io, meaning it is available for mapping, monitoring, queueing, etc. In most cases, it is recommended to pass values via the <code>CONSTRUCTOR</code> (an OO best practice). The object itself is serialized during UBC processing, ensuring that all values are restored on restart and passed to subsequent steps.</p>
<p>Messages generated during processing must be appended to <code>IO_OPERATION-&gt;MESSAGES</code>. These messages determine the <a href="#message-status" class="">Message Status</a> after processing and populate the application log.</p>
<h4 class="anchor anchorTargetHideOnScrollNavbar_vjPI" id="single-operation-interfaces">Single Operation Interfaces<a href="#single-operation-interfaces" class="hash-link" aria-label="Direct link to Single Operation Interfaces" title="Direct link to Single Operation Interfaces" translate="no">​</a></h4>
<p>For interfaces that do not require multiple steps, it is often sufficient for the <a href="#assign-technical-interfaces-to-ubcio-interface" class="">Top-Level &quot;Operation&quot; Class</a> to execute the interface logic directly. To achieve this, simply implement the interface <code>/UBC/IF_IO_SINGLE_OPERATION</code> in your class. Define your attributes according to the message input and implement the method <code>/UBC/IF_IO_OPERATION_STEP~EXECUTE</code> to perform the business logic. Refer to the template class <code>/UBC/CL_IO_TEMPLATE_SINGLE</code> for an example.</p>
<div class="language-abap codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-abap codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token keyword" style="color:#00009f">class</span><span class="token plain"> /ubc/cl_io_template_single </span><span class="token keyword" style="color:#00009f">definition</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token keyword" style="color:#00009f">public</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token keyword" style="color:#00009f">create</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">public</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token keyword" style="color:#00009f">public</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">section</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">interfaces</span><span class="token plain"> /ubc/if_io_single_operation</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">methods</span><span class="token plain"> constructor</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token keyword" style="color:#00009f">importing</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        matnr </span><span class="token keyword" style="color:#00009f">type</span><span class="token plain"> matnr</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        werks </span><span class="token keyword" style="color:#00009f">type</span><span class="token plain"> werks_d</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token eol-comment comment" style="color:#999988;font-style:italic">&quot;every public attribute is visible for I/O</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">data</span><span class="token plain"> matnr </span><span class="token keyword" style="color:#00009f">type</span><span class="token plain"> matnr</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">data</span><span class="token plain"> werks </span><span class="token keyword" style="color:#00009f">type</span><span class="token plain"> werks_d</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token keyword" style="color:#00009f">protected</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">section</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token keyword" style="color:#00009f">private</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">section</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">endclass</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">class</span><span class="token plain"> /ubc/cl_io_template_single </span><span class="token keyword" style="color:#00009f">implementation</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token keyword" style="color:#00009f">method</span><span class="token plain"> constructor</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    me</span><span class="token token-operator punctuation" style="color:#393A34">-&gt;</span><span class="token plain">matnr </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> matnr</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    me</span><span class="token token-operator punctuation" style="color:#393A34">-&gt;</span><span class="token plain">werks </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> werks</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token keyword" style="color:#00009f">endmethod</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token keyword" style="color:#00009f">method</span><span class="token plain"> /ubc/if_io_operation_step</span><span class="token token-operator punctuation" style="color:#393A34">~</span><span class="token plain">execute</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token eol-comment comment" style="color:#999988;font-style:italic">&quot;#TODO: actual implementation goes here</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token eol-comment comment" style="color:#999988;font-style:italic">&quot;if matnr = </span><span class="token string" style="color:#e3116c">&#x27;4711&#x27;</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token eol-comment comment" style="color:#999988;font-style:italic">&quot;endif.</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token eol-comment comment" style="color:#999988;font-style:italic">&quot;insert value #( msgid = </span><span class="token string" style="color:#e3116c">&#x27;V1&#x27;</span><span class="token plain"> msgno </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&#x27;899&#x27;</span><span class="token plain"> msgty </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&#x27;S&#x27;</span><span class="token plain"> msgv1 </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&#x27;processing OK&#x27;</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">into</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">table</span><span class="token plain"> io_operation</span><span class="token token-operator punctuation" style="color:#393A34">-&gt;</span><span class="token plain">messages</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token keyword" style="color:#00009f">endmethod</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">endclass</span><span class="token punctuation" style="color:#393A34">.</span><br></span></code></pre></div></div>
<h4 class="anchor anchorTargetHideOnScrollNavbar_vjPI" id="multi-step-interfaces">Multi-Step Interfaces<a href="#multi-step-interfaces" class="hash-link" aria-label="Direct link to Multi-Step Interfaces" title="Direct link to Multi-Step Interfaces" translate="no">​</a></h4>
<ul>
<li class="">
<p>The <a href="#assign-technical-interfaces-to-ubcio-interface" class="">Top Level &quot;Operation&quot; Class</a> simply needs to implement the interface <code>/UBC/IF_IO_MULTI_OPERATION</code> and to define the message payload. See template class <code>/UBC/CL_IO_TEMPLATE_MULTI_OP</code> for example.</p>
<div class="language-abap codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-abap codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token keyword" style="color:#00009f">class</span><span class="token plain"> /ubc/cl_io_template_multi_op </span><span class="token keyword" style="color:#00009f">definition</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token keyword" style="color:#00009f">public</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token keyword" style="color:#00009f">create</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">public</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token keyword" style="color:#00009f">public</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">section</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">interfaces</span><span class="token plain"> /ubc/if_io_multi_operation</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">methods</span><span class="token plain"> constructor</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token keyword" style="color:#00009f">importing</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        matnr </span><span class="token keyword" style="color:#00009f">type</span><span class="token plain"> matnr</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        werks </span><span class="token keyword" style="color:#00009f">type</span><span class="token plain"> werks_d</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token eol-comment comment" style="color:#999988;font-style:italic">&quot;every public attribute is visible for I/O</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">data</span><span class="token plain"> matnr </span><span class="token keyword" style="color:#00009f">type</span><span class="token plain"> matnr</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">data</span><span class="token plain"> werks </span><span class="token keyword" style="color:#00009f">type</span><span class="token plain"> werks_d</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token keyword" style="color:#00009f">protected</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">section</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token keyword" style="color:#00009f">private</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">section</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">endclass</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">class</span><span class="token plain"> /ubc/cl_io_template_multi_op </span><span class="token keyword" style="color:#00009f">implementation</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token keyword" style="color:#00009f">method</span><span class="token plain"> constructor</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    me</span><span class="token token-operator punctuation" style="color:#393A34">-&gt;</span><span class="token plain">matnr </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> matnr</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    me</span><span class="token token-operator punctuation" style="color:#393A34">-&gt;</span><span class="token plain">werks </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> werks</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token keyword" style="color:#00009f">endmethod</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">endclass</span><span class="token punctuation" style="color:#393A34">.</span><br></span></code></pre></div></div>
</li>
<li class="">
<p>The <a href="#multi-steps-luws" class="">&quot;Step Class&quot;</a> needs to implement the interface <code>/UBC/IF_IO_OPERATION_STEP</code> and also the method <code>/UBC/IF_IO_OPERATION_STEP~EXECUTE</code> to execute the business logic. For data access, the importing parameter <code>IO_OPERATION</code> needs to be casted to the actual type. See template class <code>/UBC/CL_IO_TEMPLATE_MULTI_STEP</code> for example.</p>
<div class="language-abap codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-abap codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token keyword" style="color:#00009f">class</span><span class="token plain"> /ubc/cl_io_template_multi_step </span><span class="token keyword" style="color:#00009f">definition</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token keyword" style="color:#00009f">public</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token keyword" style="color:#00009f">create</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">public</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token keyword" style="color:#00009f">public</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">section</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">interfaces</span><span class="token plain"> /ubc/if_io_operation_step</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token keyword" style="color:#00009f">protected</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">section</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token keyword" style="color:#00009f">private</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">section</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">endclass</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">class</span><span class="token plain"> /ubc/cl_io_template_multi_step </span><span class="token keyword" style="color:#00009f">implementation</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token keyword" style="color:#00009f">method</span><span class="token plain"> /ubc/if_io_operation_step</span><span class="token token-operator punctuation" style="color:#393A34">~</span><span class="token plain">execute</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token eol-comment comment" style="color:#999988;font-style:italic">&quot;#TODO: actual implementation goes here</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token eol-comment comment" style="color:#999988;font-style:italic">&quot;data from operation</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token eol-comment comment" style="color:#999988;font-style:italic">&quot;if cast /ubc/cl_io_template_multi_op( io_operation )-&gt;matnr = </span><span class="token string" style="color:#e3116c">&#x27;4711&#x27;</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token eol-comment comment" style="color:#999988;font-style:italic">&quot;endif.</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token eol-comment comment" style="color:#999988;font-style:italic">&quot;insert value #( msgid = </span><span class="token string" style="color:#e3116c">&#x27;V1&#x27;</span><span class="token plain"> msgno </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&#x27;899&#x27;</span><span class="token plain"> msgty </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&#x27;S&#x27;</span><span class="token plain"> msgv1 </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&#x27;processing step OK&#x27;</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">into</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">table</span><span class="token plain"> io_operation</span><span class="token token-operator punctuation" style="color:#393A34">-&gt;</span><span class="token plain">messages</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token keyword" style="color:#00009f">endmethod</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">endclass</span><span class="token punctuation" style="color:#393A34">.</span><br></span></code></pre></div></div>
</li>
</ul>
<h4 class="anchor anchorTargetHideOnScrollNavbar_vjPI" id="triggering-interfaces-operations-only">Triggering Interfaces (&quot;Operations&quot; only)<a href="#triggering-interfaces-operations-only" class="hash-link" aria-label="Direct link to Triggering Interfaces (&quot;Operations&quot; only)" title="Direct link to Triggering Interfaces (&quot;Operations&quot; only)" translate="no">​</a></h4>
<ul>
<li class="">The <a href="#assign-technical-interfaces-to-ubcio-interface" class="">Customizing</a> was done for your top-level &quot;Operation&quot; class</li>
<li class="">The class needs to be constructed and passed to the <code>/UBC/CL_IO_PROCESSOR=&gt;INSTANCE-&gt;HANDLE()</code> method. The framework itself respects both cases: multi-steps and single operation, and takes care of the rest: execution, persistence, restartability, etc.<!-- -->
<blockquote>
<p>Normally, a COMMIT is executed afterwards to trigger asynchronous processing and completion. This can be prevented by setting method parameter <code>IV_COMMIT = ABAP_FALSE</code>.</p>
</blockquote>
</li>
</ul>
<p>See template <code>/UBC/CL_IO_TEMPLATE_CALL_DEMO</code> for example or:</p>
<div class="language-abap codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-abap codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">/ubc/cl_io_processor</span><span class="token token-operator punctuation" style="color:#393A34">=&gt;</span><span class="token plain">instance</span><span class="token token-operator punctuation" style="color:#393A34">-&gt;</span><span class="token plain">handle</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">new</span><span class="token plain"> /ubc/cl_io_template_single</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain"> matnr </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&#x27;4711&#x27;</span><span class="token plain"> werks </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&#x27;0001&#x27;</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">.</span><br></span></code></pre></div></div>
<div class="theme-admonition theme-admonition-info admonition_xJq3 alert alert--info"><div class="admonitionHeading_Gvgb"><span class="admonitionIcon_Rf37"><svg viewBox="0 0 14 16"><path fill-rule="evenodd" d="M7 2.3c3.14 0 5.7 2.56 5.7 5.7s-2.56 5.7-5.7 5.7A5.71 5.71 0 0 1 1.3 8c0-3.14 2.56-5.7 5.7-5.7zM7 1C3.14 1 0 4.14 0 8s3.14 7 7 7 7-3.14 7-7-3.14-7-7-7zm1 3H6v5h2V4zm0 6H6v2h2v-2z"></path></svg></span>info</div><div class="admonitionContent_BuS1"><p>Again, make sure to have <strong>no explicit commits</strong> within your processing, as this will be controlled by the framework and would destroy restartability. If it is technically needed (for e.g., posting multiple goods movements), consider using the <a href="#multi-step-interfaces" class="">Multi-Step Approach</a>.</p></div></div>
<h4 class="anchor anchorTargetHideOnScrollNavbar_vjPI" id="templates">Templates<a href="#templates" class="hash-link" aria-label="Direct link to Templates" title="Direct link to Templates" translate="no">​</a></h4>
<p>To speed up development, there are ABAP templates for the use of single operations and multi-step operations.
Please have a look at the package <code>/UBC/IO_TEMPLATE</code>.</p>
<h4 class="anchor anchorTargetHideOnScrollNavbar_vjPI" id="business-add-ins-badis">Business Add-Ins (BADIs)<a href="#business-add-ins-badis" class="hash-link" aria-label="Direct link to Business Add-Ins (BADIs)" title="Direct link to Business Add-Ins (BADIs)" translate="no">​</a></h4>
<p>There is one enhancement spot called <code>/C09/ES_CIO</code>, containing:</p>
<h5 class="anchor anchorTargetHideOnScrollNavbar_vjPI" id="interface-determination-with-c09badi_cio_func">Interface Determination with <code>/C09/BADI_CIO_FUNC</code><a href="#interface-determination-with-c09badi_cio_func" class="hash-link" aria-label="Direct link to interface-determination-with-c09badi_cio_func" title="Direct link to interface-determination-with-c09badi_cio_func" translate="no">​</a></h5>
<p>Basically, an assignment of <a href="#assign-technical-interfaces-to-ubcio-interface" class="">Top Level &quot;Operation&quot; Class</a> to an Interface has to be unique. If this is not possible (used in multiple scenarios), this BADI has to be implemented.
The target interface will be determined by the message payload in method <code>/C09/IF_BADI_CIO_FUNC-&gt;DETERMINE_INTERFACE()</code>.</p>
<h5 class="anchor anchorTargetHideOnScrollNavbar_vjPI" id="add-dynamic-selection-fields-with-c09badi_cio_data">Add Dynamic Selection Fields with <code>/C09/BADI_CIO_DATA</code><a href="#add-dynamic-selection-fields-with-c09badi_cio_data" class="hash-link" aria-label="Direct link to add-dynamic-selection-fields-with-c09badi_cio_data" title="Direct link to add-dynamic-selection-fields-with-c09badi_cio_data" translate="no">​</a></h5>
<p>The BADI implementation can add specific logic to an Interface by implementing the interface <code>/C09/IF_BADI_CIO_DATA</code>.</p>
<h2 class="anchor anchorTargetHideOnScrollNavbar_vjPI" id="system-setup">System Setup<a href="#system-setup" class="hash-link" aria-label="Direct link to System Setup" title="Direct link to System Setup" translate="no">​</a></h2>
<p>Technical setup is part of UBC system setup, so please execute the setup task list first with transaction <code>/UBC/SETUP_BASIC</code>.</p>
<h3 class="anchor anchorTargetHideOnScrollNavbar_vjPI" id="bgrfc-configuration">bgRFC Configuration<a href="#bgrfc-configuration" class="hash-link" aria-label="Direct link to bgRFC Configuration" title="Direct link to bgRFC Configuration" translate="no">​</a></h3>
<p>To set up bgRFC processing, follow these steps:</p>
<ul>
<li class=""><a href="https://help.sap.com/saphelp_em92/helpdata/en/48/9bfc541786062de10000000a42189d/frameset.htm" target="_blank" rel="noopener noreferrer" class="">Create supervisor destination</a> - optional, not needed if bgRFC is already set up for your system</li>
</ul>
<p>The next steps depend on whether you want to use multiple bgRFC destinations for your interfaces or just use &quot;one destination&quot; for all of your UBC.io interfaces. Here you will find the steps needed to create a bgRFC destination + scheduler.</p>
<ul>
<li class="">
<p><a href="https://help.sap.com/saphelp_em92/helpdata/en/48/973e3755493987e10000000a421937/frameset.htm" target="_blank" rel="noopener noreferrer" class="">Create inbound destination</a>
The convention is that your name starts in your namespace (Z/Y).
Here is an example of how to create the destination ZUBCIO_INBOUND:
<img decoding="async" loading="lazy" alt="Inbound destination" src="/assets/images/image_002-734ed56272433068dce98269e6c86818.png" width="540" height="508" class="img_ev3q"></p>
<p>A few notes:</p>
<ul>
<li class="">The server group (see transaction <code>RZ12</code>) should not be empty. Consider using at least standard <code>parallel_generators</code>.
By not specifying a server group, the bgRFC uses all qualified servers in an SAP System according to automatic resource-allocation rules. However, by defining server groups, you can control which servers can be used for parallel processing. An RFC group specifies the set of allowed servers as well as a mechanism to avoid overloading, e.g., &quot;use only 75% of max. allowed dialog processes.&quot;</li>
<li class="">Prefixes
A new prefix is needed for every queue in your UBC.io customizing.<!-- -->
<div class="theme-admonition theme-admonition-warning admonition_xJq3 alert alert--warning"><div class="admonitionHeading_Gvgb"><span class="admonitionIcon_Rf37"><svg viewBox="0 0 16 16"><path fill-rule="evenodd" d="M8.893 1.5c-.183-.31-.52-.5-.887-.5s-.703.19-.886.5L.138 13.499a.98.98 0 0 0 0 1.001c.193.31.53.501.886.501h13.964c.367 0 .704-.19.877-.5a1.03 1.03 0 0 0 .01-1.002L8.893 1.5zm.133 11.497H6.987v-2.003h2.039v2.003zm0-3.004H6.987V5.987h2.039v4.006z"></path></svg></span>warning</div><div class="admonitionContent_BuS1"><p>Without queue prefix, no queued processing!</p></div></div>
<!-- -->So for example, if your queue starts with the literals <code>MATERIAL_</code>, then you have to enter this prefix so that bgRFC queueing works correctly.</li>
</ul>
</li>
<li class="">
<p><a href="https://help.sap.com/saphelp_em92/helpdata/en/48/98139e0e0e0e27e10000000a421937/frameset.htm" target="_blank" rel="noopener noreferrer" class="">Create inbound scheduler</a>
Best practice: create the scheduler settings for your newly created destination.
<img decoding="async" loading="lazy" alt="Inbound destination scheduler" src="/assets/images/image_003-5f3c2b7b42cd452b72e1c84843d39e00.png" width="570" height="446" class="img_ev3q">
You can experiment with the maximum possible parallelization by changing &quot;Open Connections&quot;</p>
</li>
</ul>
<h3 class="anchor anchorTargetHideOnScrollNavbar_vjPI" id="auto-restart-job">Auto Restart Job<a href="#auto-restart-job" class="hash-link" aria-label="Direct link to Auto Restart Job" title="Direct link to Auto Restart Job" translate="no">​</a></h3>
<p>If you decide to configure Auto Restart, a job needs to be scheduled to trigger Auto Restart after configured deadlines.
To do so, schedule a job for Report <code>/C09/CIO_AUTORESTART</code> with a period of <code>1 Minute</code>. The auto restart of a single message does not get triggered as long as the minimum wait time has not been reached.</p>
<h2 class="anchor anchorTargetHideOnScrollNavbar_vjPI" id="authorization">Authorization<a href="#authorization" class="hash-link" aria-label="Direct link to Authorization" title="Direct link to Authorization" translate="no">​</a></h2>
<p>The authorization object <code>/UBC/IO_IF</code> is used for restricting the usage of UBC.io interface monitors (Main Monitor <code>/UBC/IO</code> and Queue Monitor <code>/UBC/IO_QUEUE</code>). Since UBC.io is organized by interfaces, the authorization object is also designed for restricting activities of specific interfaces.</p>
<p>The following authorization fields are provided:</p>
<ul>
<li class="">
<p><code>/UBC/IO_NM</code>: interface name to restrict for, as chosen in UBC.io customizing (see <code>/UBC/IO_C</code>)</p>
</li>
<li class="">
<p><code>ACTVT</code>: allowed activity/activities</p>
<p>Possible values are:</p>
<ul>
<li class=""><strong>03 (Display)</strong>
Restricts the display of messages.
If no display activity is maintained for a specific interface, the message will not be shown in the I/O monitors.</li>
<li class=""><strong>91 (Reactivate)</strong>
Restricts the availability of operation <code>Restart</code> in I/O monitors.</li>
<li class=""><strong>04 (Print, edit messages)</strong>
Restricts the availability of operation <code>Edit</code> in I/O monitors.</li>
<li class=""><strong>90 (Copy)</strong>
Restricts the availability of operation <code>Copy</code> in I/O monitors.</li>
<li class=""><strong>31 (Confirm)</strong>
Restricts the availability of operation <code>Acknowledge</code> in I/O monitors.</li>
<li class=""><strong>02 (Change)</strong>
This activity acts as a collective one that includes all the changing operations from above:<!-- -->
<ul>
<li class="">Restart</li>
<li class="">Edit</li>
<li class="">Copy</li>
<li class="">Acknowledge</li>
</ul>
<div class="theme-admonition theme-admonition-tip admonition_xJq3 alert alert--success"><div class="admonitionHeading_Gvgb"><span class="admonitionIcon_Rf37"><svg viewBox="0 0 12 16"><path fill-rule="evenodd" d="M6.5 0C3.48 0 1 2.19 1 5c0 .92.55 2.25 1 3 1.34 2.25 1.78 2.78 2 4v1h5v-1c.22-1.22.66-1.75 2-4 .45-.75 1-2.08 1-3 0-2.81-2.48-5-5.5-5zm3.64 7.48c-.25.44-.47.8-.67 1.11-.86 1.41-1.25 2.06-1.45 3.23-.02.05-.02.11-.02.17H5c0-.06 0-.13-.02-.17-.2-1.17-.59-1.83-1.45-3.23-.2-.31-.42-.67-.67-1.11C2.44 6.78 2 5.65 2 5c0-2.2 2.02-4 4.5-4 1.22 0 2.36.42 3.22 1.19C10.55 2.94 11 3.94 11 5c0 .66-.44 1.78-.86 2.48zM4 14h5c-.23 1.14-1.3 2-2.5 2s-2.27-.86-2.5-2z"></path></svg></span>tip</div><div class="admonitionContent_BuS1"><p>We recommend using the dedicated activities mentioned above.</p></div></div>
</li>
</ul>
</li>
</ul>
<h2 class="anchor anchorTargetHideOnScrollNavbar_vjPI" id="data-archiving">Data Archiving<a href="#data-archiving" class="hash-link" aria-label="Direct link to Data Archiving" title="Direct link to Data Archiving" translate="no">​</a></h2>
<p>UBC.io comes with a dedicated Archiving Object <code>/C09/CIO</code>, used to archive all data that was persisted to monitor and process the messages.</p>
<p>As with most SAP standard applications, archive runs are scheduled within transaction <code>SARA</code>.</p>
<p>The write step offers multiple options to select the messages. Please note that only messages will be archived that are in a completed state. Only own persistence:</p>
<ul>
<li class="">Index table entries</li>
<li class="">Workflows in a completed step started by workflow integration, see <a href="#workflow-integration" class="">Workflow Integration</a></li>
</ul>
<p>will be archived.</p>
<div class="theme-admonition theme-admonition-info admonition_xJq3 alert alert--info"><div class="admonitionHeading_Gvgb"><span class="admonitionIcon_Rf37"><svg viewBox="0 0 14 16"><path fill-rule="evenodd" d="M7 2.3c3.14 0 5.7 2.56 5.7 5.7s-2.56 5.7-5.7 5.7A5.71 5.71 0 0 1 1.3 8c0-3.14 2.56-5.7 5.7-5.7zM7 1C3.14 1 0 4.14 0 8s3.14 7 7 7 7-3.14 7-7-3.14-7-7-7zm1 3H6v5h2V4zm0 6H6v2h2v-2z"></path></svg></span>info</div><div class="admonitionContent_BuS1"><p>The write step does not trigger data archiving of a connected business object or IDOC.
If needed, data archiving can also be included in customer archiving routines, calling methods of <code>/C09/IF_CIO_ARC_MSG_SERVICE</code>.</p></div></div></div></article><nav class="docusaurus-mt-lg pagination-nav" aria-label="Docs pages"><a class="pagination-nav__link pagination-nav__link--prev" href="/products/UBC"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">Overview</div></a><a class="pagination-nav__link pagination-nav__link--next" href="/products/UBC/IO/legacy_functions"><div class="pagination-nav__sublabel">Next</div><div class="pagination-nav__label">Legacy functions</div></a></nav></div></div><div class="col col--3"><div class="tableOfContents_bqdL thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#introduction" class="table-of-contents__link toc-highlight">Introduction</a></li><li><a href="#monitoring-and-error-handling" class="table-of-contents__link toc-highlight">Monitoring and Error Handling</a><ul><li><a href="#io-detail-monitor-ubcio" class="table-of-contents__link toc-highlight">I/O Detail Monitor <code>/UBC/IO</code></a></li><li><a href="#message-status" class="table-of-contents__link toc-highlight">Message Status</a></li><li><a href="#processing-options-queue-type" class="table-of-contents__link toc-highlight">Processing Options (Queue Type)</a><ul><li><a href="#synchronous-processing" class="table-of-contents__link toc-highlight">Synchronous Processing</a></li><li><a href="#asynchronous-processing" class="table-of-contents__link toc-highlight">Asynchronous Processing</a><ul><li><a href="#no-queue-transactional" class="table-of-contents__link toc-highlight">No Queue (Transactional)</a><ul><li><a href="#automatic-processing" class="table-of-contents__link toc-highlight">Automatic Processing</a></li><li><a href="#manual-processing" class="table-of-contents__link toc-highlight">Manual Processing</a></li></ul></li><li><a href="#queue-all-asynchronous-processing" class="table-of-contents__link toc-highlight">Queue (All Asynchronous Processing)</a><ul><li><a href="#by-creation-timestamp" class="table-of-contents__link toc-highlight">By Creation Timestamp</a></li><li><a href="#by-message-payload-index" class="table-of-contents__link toc-highlight">By Message Payload Index</a></li></ul></li></ul></li></ul></li><li><a href="#queue-monitor-ubcio_queue" class="table-of-contents__link toc-highlight">Queue Monitor <code>/UBC/IO_QUEUE</code></a></li></ul></li><li><a href="#development" class="table-of-contents__link toc-highlight">Development</a><ul><li><a href="#customizing" class="table-of-contents__link toc-highlight">Customizing</a><ul><li><a href="#interfaces" class="table-of-contents__link toc-highlight">Interfaces</a><ul><li><a href="#assign-technical-interfaces-to-ubcio-interface" class="table-of-contents__link toc-highlight">Assign Technical Interfaces to UBC.io Interface</a><ul><li><a href="#field-mapping" class="table-of-contents__link toc-highlight">Field Mapping</a></li><li><a href="#multi-steps-luws" class="table-of-contents__link toc-highlight">Multi Steps (LUWs)</a></li><li><a href="#multi-index-tables" class="table-of-contents__link toc-highlight">Multi-Index Tables</a></li><li><a href="#acknowledge-function" class="table-of-contents__link toc-highlight">Acknowledge Function</a></li></ul></li><li><a href="#queue-keys" class="table-of-contents__link toc-highlight">Queue Keys</a></li></ul></li><li><a href="#auto-restart" class="table-of-contents__link toc-highlight">Auto Restart</a></li><li><a href="#workflow-integration" class="table-of-contents__link toc-highlight">Workflow Integration</a><ul><li><a href="#example-implementation" class="table-of-contents__link toc-highlight">Example Implementation</a></li></ul></li></ul></li><li><a href="#implementation" class="table-of-contents__link toc-highlight">Implementation</a><ul><li><a href="#single-operation-interfaces" class="table-of-contents__link toc-highlight">Single Operation Interfaces</a></li><li><a href="#multi-step-interfaces" class="table-of-contents__link toc-highlight">Multi-Step Interfaces</a></li><li><a href="#triggering-interfaces-operations-only" class="table-of-contents__link toc-highlight">Triggering Interfaces (&quot;Operations&quot; only)</a></li><li><a href="#templates" class="table-of-contents__link toc-highlight">Templates</a></li><li><a href="#business-add-ins-badis" class="table-of-contents__link toc-highlight">Business Add-Ins (BADIs)</a><ul><li><a href="#interface-determination-with-c09badi_cio_func" class="table-of-contents__link toc-highlight">Interface Determination with <code>/C09/BADI_CIO_FUNC</code></a></li><li><a href="#add-dynamic-selection-fields-with-c09badi_cio_data" class="table-of-contents__link toc-highlight">Add Dynamic Selection Fields with <code>/C09/BADI_CIO_DATA</code></a></li></ul></li></ul></li></ul></li><li><a href="#system-setup" class="table-of-contents__link toc-highlight">System Setup</a><ul><li><a href="#bgrfc-configuration" class="table-of-contents__link toc-highlight">bgRFC Configuration</a></li><li><a href="#auto-restart-job" class="table-of-contents__link toc-highlight">Auto Restart Job</a></li></ul></li><li><a href="#authorization" class="table-of-contents__link toc-highlight">Authorization</a></li><li><a href="#data-archiving" class="table-of-contents__link toc-highlight">Data Archiving</a></li></ul></div></div></div></div></main></div></div></div><footer class="theme-layout-footer footer"><div class="container container-fluid"><div class="footer__bottom text--center"><div class="margin-bottom--sm"><a href="https://www.metalsxp.com" rel="noopener noreferrer" class="footerLogoLink_BH7S"><img src="/img/metalsXP-Cut-bottom2.png" alt="metalsXP" class="footer__logo themedComponent_mlkZ themedComponent--light_NVdE"><img src="/img/metalsXP-Cut-bottom2.png" alt="metalsXP" class="footer__logo themedComponent_mlkZ themedComponent--dark_xIcU"></a></div><div class="footer__copyright">Copyright © 2025 Metals Experience GmbH<br><a href="https://www.metalsxp.com/imprint">Imprint</a></div></div></div></footer></div>
</body>
</html>
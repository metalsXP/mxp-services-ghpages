"use strict";(self.webpackChunkubc_services=self.webpackChunkubc_services||[]).push([[2329],{12946:(e,n,i)=>{i.d(n,{A:()=>s});const s=i.p+"assets/images/image_013-69555e11691cad800e560adc5e7ebff0.png"},28453:(e,n,i)=>{i.d(n,{R:()=>c,x:()=>l});var s=i(96540);const t={},r=s.createContext(t);function c(e){const n=s.useContext(r);return s.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function l(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(t):e.components||t:c(e.components),s.createElement(r.Provider,{value:n},e.children)}},34491:(e,n,i)=>{i.d(n,{A:()=>s});const s=i.p+"assets/images/image_012-500162773e02626667de4ef1e530ea66.png"},36928:(e,n,i)=>{i.d(n,{A:()=>s});const s=i.p+"assets/images/image_011-eeedfe1668f10b9200f38f06f004c6bd.png"},42925:(e,n,i)=>{i.d(n,{A:()=>s});const s=i.p+"assets/images/image_014-fec7983077420d9a251930bfb0ddcabc.png"},93993:(e,n,i)=>{i.r(n),i.d(n,{assets:()=>a,contentTitle:()=>l,default:()=>h,frontMatter:()=>c,metadata:()=>s,toc:()=>d});const s=JSON.parse('{"id":"cds","title":"CDS Views","description":"Link to CDS Views","source":"@site/docs/products/mdVC/cds.md","sourceDirName":".","slug":"/connectors/cds/","permalink":"/products/mdVC/connectors/cds/","draft":false,"unlisted":false,"tags":[],"version":"current","frontMatter":{"slug":"/connectors/cds/","description":"Link to CDS Views"},"sidebar":"mdVC","previous":{"title":"BRF+ rules","permalink":"/products/mdVC/connectors/brf/"},"next":{"title":"QPPD","permalink":"/products/mdVC/connectors/qppd/"}}');var t=i(74848),r=i(28453);const c={slug:"/connectors/cds/",description:"Link to CDS Views"},l="CDS Views",a={},d=[{value:"Why CDS Instead of AVC Logic?",id:"why-cds-instead-of-avc-logic",level:2},{value:"How It Works",id:"how-it-works",level:2},{value:"Behavior and Scope",id:"behavior-and-scope",level:3},{value:"Examples",id:"examples",level:2},{value:"Configuration Instance (User Input)",id:"configuration-instance-user-input",level:3},{value:"CDS Consumption View",id:"cds-consumption-view",level:3},{value:"Configuration After CDS Evaluation",id:"configuration-after-cds-evaluation",level:3},{value:"Available Values (Value Help)",id:"available-values-value-help",level:3},{value:"Multiple CDS Views (intersection logic)",id:"multiple-cds-views-intersection-logic",level:3},{value:"Worked example with two views",id:"worked-example-with-two-views",level:4},{value:"Usage",id:"usage",level:2},{value:"Single View",id:"single-view",level:3},{value:"Multi View",id:"multi-view",level:3},{value:"Condition-based execution of CDS views",id:"condition-based-execution-of-cds-views",level:4}];function o(e){const n={a:"a",admonition:"admonition",br:"br",code:"code",em:"em",h1:"h1",h2:"h2",h3:"h3",h4:"h4",header:"header",img:"img",li:"li",ol:"ol",p:"p",pre:"pre",strong:"strong",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",ul:"ul",...(0,r.R)(),...e.components};return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(n.header,{children:(0,t.jsx)(n.h1,{id:"cds-views",children:"CDS Views"})}),"\n",(0,t.jsx)(n.p,{children:"In complex industries like steel, automotive, or machinery, configuration logic often depends on rich, interconnected master data\u2014such as product forms, specifications, grades, coatings, and packaging. Managing such dependencies using static AVC tools like variant tables can quickly become rigid, error-prone, and disconnected from live business data."}),"\n",(0,t.jsxs)(n.p,{children:["The ",(0,t.jsx)(n.strong,{children:"mdVC CDS connector"})," solves this by linking configuration characteristics directly to CDS views. These views can represent complex dependencies from various data sources\u2014SAP master data, QPPD models, custom logic, or even external systems\u2014evaluated dynamically at runtime. This enables master data-driven configuration with high flexibility and no duplication of logic."]}),"\n",(0,t.jsx)(n.admonition,{type:"info",children:(0,t.jsxs)(n.p,{children:["While the following example references ",(0,t.jsx)(n.a,{href:"../../QPPD/GRO/GDD/documentation",children:"QPPD Views"}),", the CDS connector is fully generic. It can be used with any data source\u2014internal or external (Custom Entity CDS View)."]})}),"\n",(0,t.jsx)(n.h2,{id:"why-cds-instead-of-avc-logic",children:"Why CDS Instead of AVC Logic?"}),"\n",(0,t.jsx)(n.p,{children:"AVC dependencies\u2014especially variant tables\u2014have several limitations:"}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsx)(n.li,{children:"Manual maintenance effort"}),"\n",(0,t.jsx)(n.li,{children:"Risk of inconsistencies"}),"\n",(0,t.jsx)(n.li,{children:"No reuse outside of AVC"}),"\n",(0,t.jsx)(n.li,{children:"Disconnected from actual business data"}),"\n"]}),"\n",(0,t.jsx)(n.p,{children:"By contrast, CDS views offer:"}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"Full modeling flexibility"})," (joins, enrichment, filters, semantics)"]}),"\n",(0,t.jsx)(n.li,{children:(0,t.jsx)(n.strong,{children:"Live access to real master data"})}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"Reuse across applications"})," (Fiori apps, reporting, APIs)"]}),"\n",(0,t.jsx)(n.li,{children:(0,t.jsx)(n.strong,{children:"Centralized, declarative business logic"})}),"\n"]}),"\n",(0,t.jsxs)(n.p,{children:["Using CDS makes configuration ",(0,t.jsx)(n.strong,{children:"transparent"}),", ",(0,t.jsx)(n.strong,{children:"data-driven"}),", and ",(0,t.jsx)(n.strong,{children:"scalable"}),"\u2014a best practice for S/4HANA-based modeling."]}),"\n",(0,t.jsx)(n.h2,{id:"how-it-works",children:"How It Works"}),"\n",(0,t.jsxs)(n.p,{children:["A configuration instance is linked to a ",(0,t.jsx)(n.strong,{children:"CDS consumption view"}),", which collects and resolves dependencies. Multiple CDS view groups can be involved (technically, this means multiple CDS tasks). Each view filters valid values or derives characteristic values at runtime."]}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.img,{alt:"Link to Consumption View",src:i(36928).A+"",width:"631",height:"410"})}),"\n",(0,t.jsx)(n.p,{children:"By default, characteristics are matched to CDS view fields by name. However, field mappings can be customized when defining the task. The CDS view consolidates data from various sources and exposes valid combinations to the configuration process."}),"\n",(0,t.jsx)(n.h3,{id:"behavior-and-scope",children:"Behavior and Scope"}),"\n",(0,t.jsx)(n.p,{children:"The CDS connector task executes the following logic:"}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"Restrict value help"})," based on current characteristic values",(0,t.jsx)(n.br,{}),"\n",'(e.g. only certain packaging types are valid for "Sea" transport)']}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"Auto-determine values"})," when only one valid option remains","\n",(0,t.jsx)(n.admonition,{type:"info",children:(0,t.jsx)(n.p,{children:"Determination only applies if the user hasn't already entered a value."})}),"\n"]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"Set characteristics to read-only"})," when only one valid value exists"]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"Validate uniqueness"}),": the current combination of values must match exactly one CDS row. Otherwise, an error is raised."]}),"\n"]}),"\n",(0,t.jsx)(n.p,{children:"This ensures that configuration stays consistent with the actual business logic modeled in master data."}),"\n",(0,t.jsx)(n.h2,{id:"examples",children:"Examples"}),"\n",(0,t.jsx)(n.h3,{id:"configuration-instance-user-input",children:"Configuration Instance (User Input)"}),"\n",(0,t.jsxs)(n.table,{children:[(0,t.jsx)(n.thead,{children:(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.th,{children:(0,t.jsx)(n.strong,{children:"Characteristic"})}),(0,t.jsx)(n.th,{children:(0,t.jsx)(n.strong,{children:"Value"})})]})}),(0,t.jsxs)(n.tbody,{children:[(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:"Product Form"}),(0,t.jsx)(n.td,{children:(0,t.jsx)("span",{style:{color:"var(--mxp-color-green)"},children:"COIL"})})]}),(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:"Product Type"}),(0,t.jsx)(n.td,{children:(0,t.jsx)("span",{style:{color:"var(--mxp-color-green)"},children:"CR"})})]}),(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:"Specification"}),(0,t.jsx)(n.td,{})]}),(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:"Specification Extension"}),(0,t.jsx)(n.td,{})]}),(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:"Grade Name"}),(0,t.jsx)(n.td,{})]}),(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:"Galvanizing Class"}),(0,t.jsx)(n.td,{})]}),(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:"Packaging"}),(0,t.jsx)(n.td,{})]})]})]}),"\n",(0,t.jsx)(n.h3,{id:"cds-consumption-view",children:"CDS Consumption View"}),"\n",(0,t.jsx)(n.p,{children:"The following table shows all available combinations. Rows not matching the user input (e.g. invalid product type/form) are excluded from evaluation."}),"\n",(0,t.jsxs)(n.table,{children:[(0,t.jsx)(n.thead,{children:(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.th,{children:(0,t.jsx)(n.strong,{children:"Product Form"})}),(0,t.jsx)(n.th,{children:(0,t.jsx)(n.strong,{children:"Product Type"})}),(0,t.jsx)(n.th,{children:(0,t.jsx)(n.strong,{children:"Specification"})}),(0,t.jsx)(n.th,{children:(0,t.jsx)(n.strong,{children:"Specification Extension"})}),(0,t.jsx)(n.th,{children:(0,t.jsx)(n.strong,{children:"Grade Name"})}),(0,t.jsx)(n.th,{children:(0,t.jsx)(n.strong,{children:"Galvanizing Class"})})]})}),(0,t.jsxs)(n.tbody,{children:[(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:(0,t.jsx)("span",{style:{color:"var(--mxp-color-green)"},children:"COIL"})}),(0,t.jsx)(n.td,{children:(0,t.jsx)("span",{style:{color:"var(--mxp-color-green)"},children:"CR"})}),(0,t.jsx)(n.td,{children:"EN10130:2006"}),(0,t.jsx)(n.td,{}),(0,t.jsx)(n.td,{children:"DC01"}),(0,t.jsx)(n.td,{children:"No"})]}),(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:(0,t.jsx)("span",{style:{color:"var(--mxp-color-green)"},children:"COIL"})}),(0,t.jsx)(n.td,{children:(0,t.jsx)("span",{style:{color:"var(--mxp-color-green)"},children:"CR"})}),(0,t.jsx)(n.td,{children:"EN10204"}),(0,t.jsx)(n.td,{children:"4711"}),(0,t.jsx)(n.td,{children:"DC01"}),(0,t.jsx)(n.td,{children:"No"})]}),(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:(0,t.jsx)("span",{style:{color:"var(--mxp-color-green)"},children:"COIL"})}),(0,t.jsx)(n.td,{children:(0,t.jsx)("span",{style:{color:"var(--mxp-color-green)"},children:"CR"})}),(0,t.jsx)(n.td,{children:"EN10204"}),(0,t.jsx)(n.td,{}),(0,t.jsx)(n.td,{children:"DC03"}),(0,t.jsx)(n.td,{children:"No"})]}),(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:(0,t.jsx)("span",{style:{color:"var(--mxp-color-red)",textDecoration:"line-through"},children:"COIL"})}),(0,t.jsx)(n.td,{children:(0,t.jsx)("span",{style:{color:"var(--mxp-color-red)",textDecoration:"line-through"},children:"HDC"})}),(0,t.jsx)(n.td,{children:(0,t.jsx)("span",{style:{color:"var(--mxp-color-red)",textDecoration:"line-through"},children:"EN10168"})}),(0,t.jsx)(n.td,{}),(0,t.jsx)(n.td,{children:(0,t.jsx)("span",{style:{color:"var(--mxp-color-red)",textDecoration:"line-through"},children:"DC05"})}),(0,t.jsx)(n.td,{children:(0,t.jsx)("span",{style:{color:"var(--mxp-color-red)",textDecoration:"line-through"},children:"A"})})]}),(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:(0,t.jsx)("span",{style:{color:"var(--mxp-color-red)",textDecoration:"line-through"},children:"SHEET"})}),(0,t.jsx)(n.td,{children:(0,t.jsx)("span",{style:{color:"var(--mxp-color-red)",textDecoration:"line-through"},children:"HR"})}),(0,t.jsx)(n.td,{children:(0,t.jsx)("span",{style:{color:"var(--mxp-color-red)",textDecoration:"line-through"},children:"EN10204"})}),(0,t.jsx)(n.td,{}),(0,t.jsx)(n.td,{children:(0,t.jsx)("span",{style:{color:"var(--mxp-color-red)",textDecoration:"line-through"},children:"DC03"})}),(0,t.jsx)(n.td,{children:(0,t.jsx)("span",{style:{color:"var(--mxp-color-red)",textDecoration:"line-through"},children:"C"})})]}),(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:(0,t.jsx)("span",{style:{color:"var(--mxp-color-red)",textDecoration:"line-through"},children:"PLATE"})}),(0,t.jsx)(n.td,{children:(0,t.jsx)("span",{style:{color:"var(--mxp-color-red)",textDecoration:"line-through"},children:"HR"})}),(0,t.jsx)(n.td,{children:(0,t.jsx)("span",{style:{color:"var(--mxp-color-red)",textDecoration:"line-through"},children:"EN10168"})}),(0,t.jsx)(n.td,{}),(0,t.jsx)(n.td,{children:(0,t.jsx)("span",{style:{color:"var(--mxp-color-red)",textDecoration:"line-through"},children:"DC03"})}),(0,t.jsx)(n.td,{children:(0,t.jsx)("span",{style:{color:"var(--mxp-color-red)",textDecoration:"line-through"},children:"B"})})]})]})]}),"\n",(0,t.jsx)(n.h3,{id:"configuration-after-cds-evaluation",children:"Configuration After CDS Evaluation"}),"\n",(0,t.jsxs)(n.p,{children:["With only one matching value for ",(0,t.jsx)(n.strong,{children:"Galvanizing Class"}),", it is determined automatically:"]}),"\n",(0,t.jsxs)(n.table,{children:[(0,t.jsx)(n.thead,{children:(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.th,{children:(0,t.jsx)(n.strong,{children:"Characteristic"})}),(0,t.jsx)(n.th,{children:(0,t.jsx)(n.strong,{children:"Value"})})]})}),(0,t.jsxs)(n.tbody,{children:[(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:"Product Form"}),(0,t.jsx)(n.td,{children:(0,t.jsx)("span",{style:{color:"var(--mxp-color-green)"},children:"COIL"})})]}),(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:"Product Type"}),(0,t.jsx)(n.td,{children:(0,t.jsx)("span",{style:{color:"var(--mxp-color-green)"},children:"CR"})})]}),(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:"Specification"}),(0,t.jsx)(n.td,{})]}),(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:"Specification Extension"}),(0,t.jsx)(n.td,{})]}),(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:"Grade Name"}),(0,t.jsx)(n.td,{})]}),(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:"Galvanizing Class"}),(0,t.jsx)(n.td,{children:(0,t.jsx)("span",{style:{color:"var(--mxp-color-green)"},children:"No"})})]}),(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:"Packaging"}),(0,t.jsx)(n.td,{})]})]})]}),"\n",(0,t.jsx)(n.p,{children:"However, since more than one row remains, the configuration is still not unique, and an error is raised:"}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.img,{alt:"Result set not unique",src:i(34491).A+"",width:"462",height:"357"})}),"\n",(0,t.jsx)(n.admonition,{type:"info",children:(0,t.jsxs)(n.p,{children:["We recommend wrapping the CDS connector in a ",(0,t.jsx)(n.a,{href:"/products/mdVC/usage/#settler-task",children:"Settler Task"})," to re-evaluate logic as values evolve dynamically."]})}),"\n",(0,t.jsx)(n.h3,{id:"available-values-value-help",children:"Available Values (Value Help)"}),"\n",(0,t.jsxs)(n.table,{children:[(0,t.jsx)(n.thead,{children:(0,t.jsx)(n.tr,{children:(0,t.jsx)(n.th,{children:(0,t.jsx)(n.strong,{children:"Product Form"})})})}),(0,t.jsx)(n.tbody,{children:(0,t.jsx)(n.tr,{children:(0,t.jsx)(n.td,{children:"COIL"})})})]}),"\n",(0,t.jsxs)(n.table,{children:[(0,t.jsx)(n.thead,{children:(0,t.jsx)(n.tr,{children:(0,t.jsx)(n.th,{children:(0,t.jsx)(n.strong,{children:"Product Type"})})})}),(0,t.jsxs)(n.tbody,{children:[(0,t.jsx)(n.tr,{children:(0,t.jsx)(n.td,{children:"CR"})}),(0,t.jsx)(n.tr,{children:(0,t.jsx)(n.td,{children:"HDC"})})]})]}),"\n",(0,t.jsxs)(n.table,{children:[(0,t.jsx)(n.thead,{children:(0,t.jsx)(n.tr,{children:(0,t.jsx)(n.th,{children:(0,t.jsx)(n.strong,{children:"Specification"})})})}),(0,t.jsxs)(n.tbody,{children:[(0,t.jsx)(n.tr,{children:(0,t.jsx)(n.td,{children:"EN10130:2006"})}),(0,t.jsx)(n.tr,{children:(0,t.jsx)(n.td,{children:"EN10204"})})]})]}),"\n",(0,t.jsxs)(n.table,{children:[(0,t.jsx)(n.thead,{children:(0,t.jsx)(n.tr,{children:(0,t.jsx)(n.th,{children:(0,t.jsx)(n.strong,{children:"Specification Extension"})})})}),(0,t.jsxs)(n.tbody,{children:[(0,t.jsx)(n.tr,{children:(0,t.jsx)(n.td,{})}),(0,t.jsx)(n.tr,{children:(0,t.jsx)(n.td,{children:"4711"})})]})]}),"\n",(0,t.jsx)(n.p,{children:"... and others ..."}),"\n",(0,t.jsx)(n.h3,{id:"multiple-cds-views-intersection-logic",children:"Multiple CDS Views (intersection logic)"}),"\n",(0,t.jsxs)(n.p,{children:["In some complex scenarios you need more than one CDS view to describe the\nsame configuration. The new task class ",(0,t.jsx)(n.code,{children:"/mxp/vcha_cl_va_cds_link_multi"})," supports\n",(0,t.jsx)(n.strong,{children:"multiple views at once"}),". The idea is simple:"]}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsxs)(n.li,{children:["characteristics that appear in ",(0,t.jsx)(n.strong,{children:"every configured view"})," are treated as a\nshared key. The allowed values for those characteristics are the\n",(0,t.jsx)(n.em,{children:"intersection"})," of the result sets from all views. This means the final value\nset is limited by all data sources simultaneously."]}),"\n",(0,t.jsx)(n.li,{children:"any characteristic that is present in only one view behaves exactly as in the\nsingle\u2011view connector \u2013 restrictions, determination, read\u2011only marking and\nuniqueness validation are calculated based on that one view alone."}),"\n",(0,t.jsx)(n.li,{children:"parameters and field mappings are still configured per view; each view runs\nindependently except for the shared characteristics."}),"\n"]}),"\n",(0,t.jsxs)(n.p,{children:["A small but powerful hook exists for custom logic: the method\n",(0,t.jsx)(n.code,{children:"is_view_relevant"})," in ",(0,t.jsx)(n.code,{children:"/mxp/vcha_cl_va_cds_link_multi"})," can be redefined by a\nZ\u2011class subclass. It is invoked for every configured view before it participates\nin the intersection calculation. Returning ",(0,t.jsx)(n.code,{children:"abap_true"})," includes the view; if\n",(0,t.jsx)(n.code,{children:"abap_false"}),' the view is skipped completely. This allows scenario\u2011specific\nfilters such as "only execute view B when ProductForm = COIL". The single\u2011view\nconnector has the same method, but it\'s particularly handy in multi\u2011view\nsetups where you need fine\u2011grained control over which views are active.']}),"\n",(0,t.jsx)(n.h4,{id:"worked-example-with-two-views",children:"Worked example with two views"}),"\n",(0,t.jsxs)(n.p,{children:["Assume the first view is exactly the one shown above with columns\n",(0,t.jsx)(n.code,{children:"Product Form"}),", ",(0,t.jsx)(n.code,{children:"Product Type"}),", ",(0,t.jsx)(n.code,{children:"Specification"}),", \u2026 etc. Now we introduce a\nsecond consumption view that contains the two shared columns plus an additional\n",(0,t.jsx)(n.code,{children:"Edge Condition"})," field:"]}),"\n",(0,t.jsxs)(n.table,{children:[(0,t.jsx)(n.thead,{children:(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.th,{children:(0,t.jsx)(n.strong,{children:"Product Form"})}),(0,t.jsx)(n.th,{children:(0,t.jsx)(n.strong,{children:"Product Type"})}),(0,t.jsx)(n.th,{children:(0,t.jsx)(n.strong,{children:"Edge Condition"})})]})}),(0,t.jsxs)(n.tbody,{children:[(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:"COIL"}),(0,t.jsx)(n.td,{children:"CR"}),(0,t.jsx)(n.td,{children:"STANDARD"})]}),(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:"COIL"}),(0,t.jsx)(n.td,{children:"CR"}),(0,t.jsx)(n.td,{children:"HEAVY"})]}),(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:"COIL"}),(0,t.jsx)(n.td,{children:"HDC"}),(0,t.jsx)(n.td,{children:"STANDARD"})]}),(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:"SHEET"}),(0,t.jsx)(n.td,{children:"HR"}),(0,t.jsx)(n.td,{children:"STANDARD"})]})]})]}),"\n",(0,t.jsxs)(n.p,{children:["When the connector is configured with ",(0,t.jsx)(n.em,{children:"both"})," views the behaviour is as follows:"]}),"\n",(0,t.jsxs)(n.ol,{children:["\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"Shared columns"})," (",(0,t.jsx)(n.code,{children:"Product Form"})," and ",(0,t.jsx)(n.code,{children:"Product Type"}),") are restricted by the\nintersection of the two result sets. In our example the only combinations\nthat survive both views are the green rows from the first table above (COIL/\nCR). As a consequence for this example, the value help for those two characteristics will show\nthe same limited set regardless of which view supplies additional fields."]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"Non\u2011shared columns"})," (e.g. ",(0,t.jsx)(n.code,{children:"Specification"}),", ",(0,t.jsx)(n.code,{children:"Grade Name"}),", ",(0,t.jsx)(n.code,{children:"Edge Condition"}),")\ncontinue to work independently. Restriction, determination and uniqueness\nare computed with the respective view\u2019s rows; the connector does ",(0,t.jsx)(n.strong,{children:"not"})," join\nthe two tables, it merely combines the filter criteria on the shared keys."]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"Intersection logic"})," also applies when the configuration instance already\ncontains values: the multi\u2011view task will look up each shared characteristic\nin every view and only keep those candidate values that appear in ",(0,t.jsx)(n.em,{children:"all"}),"\nviews. This avoids situations where different data sources disagree on the\nallowed combinations."]}),"\n"]}),"\n",(0,t.jsx)(n.admonition,{type:"info",children:(0,t.jsx)(n.p,{children:"The multi\u2011view connector is handy when you need to overlay several datasets\n(e.g. a standard master view and a customer\u2011specific enhancement view) while\nensuring the common subset remains consistent. It can also be used to implement\nconditional logic that cannot be expressed in a single CDS consumption view."})}),"\n",(0,t.jsx)(n.h2,{id:"usage",children:"Usage"}),"\n",(0,t.jsxs)(n.p,{children:["To use the CDS connector, instantiate the task class ",(0,t.jsx)(n.code,{children:"/mxp/vcha_cl_va_cds_link"})," and pass your CDS view name:"]}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-abap",children:"new /mxp/vcha_cl_va_cds_link( 'ZC_MY_CONSUMPTION_VIEW' )\n"})}),"\n",(0,t.jsx)(n.p,{children:"By default, all characteristics whose names match CDS fields are considered. You can optionally define:"}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsx)(n.li,{children:"Field mappings (custom characteristic \u2194 field name)"}),"\n",(0,t.jsx)(n.li,{children:"Ignored fields"}),"\n",(0,t.jsxs)(n.li,{children:["Parameter definitions (e.g., ",(0,t.jsx)(n.code,{children:"THICKNESS"})," as a CDS view parameter ",(0,t.jsx)(n.code,{children:"P_THICKNESS"}),")"]}),"\n"]}),"\n",(0,t.jsxs)(n.p,{children:["These task can be used standalone or embedded in a ",(0,t.jsx)(n.a,{href:"/products/mdVC/usage/#composite-task",children:"composite task"}),". Wrapping them in a ",(0,t.jsx)(n.a,{href:"/products/mdVC/usage/#settler-task",children:"Settler Task"})," is recommended for resolving interdependent logic."]}),"\n",(0,t.jsxs)(n.admonition,{type:"info",children:[(0,t.jsxs)(n.p,{children:["Any CDS view used by a CDS task must be released for ",(0,t.jsx)(n.strong,{children:"system-internal use"})," to comply with clean core principles (",(0,t.jsx)(n.a,{href:"https://help.sap.com/docs/SAP_S4HANA_CLOUD/c0c54048d35849128be8e872df5bea6d/b6fe6846e9c7488e8c7e6d4289918fe3.html?locale=en-US&state=PRODUCTION&version=2502.500",children:"contract C1"}),")."]}),(0,t.jsxs)(n.p,{children:["In the examples shown, a CDS view ",(0,t.jsx)(n.code,{children:"ZC_MY_CONSUMPTION_VIEW"})," must be explicitly released. This ensures the framework can safely consume the view at runtime."]}),(0,t.jsx)(n.p,{children:"Follow the standard release process:"}),(0,t.jsxs)(n.p,{children:[(0,t.jsx)(n.img,{alt:"Set C1 contract - Step 1",src:i(12946).A+"",width:"469",height:"443"}),(0,t.jsx)(n.br,{}),"\n",(0,t.jsx)(n.img,{alt:"Set C1 contract - Step 2",src:i(42925).A+"",width:"774",height:"614"})]})]}),"\n",(0,t.jsx)(n.h3,{id:"single-view",children:"Single View"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-abap",children:"new /mxp/vcha_cl_va_cds_link(\n  i_cds_view_name = conv #( cl_abap_structdescr=>describe_by_data( value zc_my_consumption_view( ) )->get_relative_name( ) ) \"in order to make where used work, get the name dynamically\n  i_parameter_definitions = value #(\n    ( characteristic_name = 'THICKNESS'\n      cds_parameter_name = 'P_THICKNESS'\n      cds_parameter_null_name = 'P_THICKNESS_IS_NULL' ) ) \"for integers, it may be an interesting info to check whether the value is assigned or not (null) -> boolean as CDS parameter\n  i_field_mappings = value #(\n    ( characteristic_name = 'PRODUCT_TYPE'\n      cds_field_name = 'ProductType' )\n    ( characteristic_name = 'PRODUCT_FORM'\n      cds_field_name = '' ) ) ). \"An empty 'cds_field_name' means the field is ignored even if present in the CDS view.\n"})}),"\n",(0,t.jsx)(n.h3,{id:"multi-view",children:"Multi View"}),"\n",(0,t.jsxs)(n.p,{children:["The ",(0,t.jsx)(n.strong,{children:"multi\u2011view connector"})," is initialized slightly differently. Instead of a\nsingle view name you pass a configuration table (see class\n",(0,t.jsx)(n.code,{children:"/mxp/vcha_cl_va_cds_link_multi"}),"). Shared fields are detected automatically and\nrestricted by intersection:"]}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-abap",children:"new /mxp/vcha_cl_va_cds_link_multi(\n  value #( \"first view\n           ( cds_view_name = conv #( cl_abap_structdescr=>describe_by_data( value zc_my_consumption_view( ) )->get_relative_name( ) ) \"in order to make where used work, get the name dynamically\n             parameter_definitions = value #(\n               ( characteristic_name = 'THICKNESS'\n                 cds_parameter_name = 'P_THICKNESS'\n                 cds_parameter_null_name = 'P_THICKNESS_IS_NULL' ) ) \"for integers, it may be an interesting info to check whether the value is assigned or not (null) -> boolean as CDS parameter\n             field_mappings = value #(\n               ( characteristic_name = 'PRODUCT_TYPE'\n                 cds_field_name = 'ProductType' )\n               ( characteristic_name = 'PRODUCT_FORM'\n                 cds_field_name = 'ProductForm' ) ) )\n           \"second view\n           ( cds_view_name = conv #( cl_abap_structdescr=>describe_by_data( value zc_my_consumption_view2( ) )->get_relative_name( ) ) ) ) ).\n"})}),"\n",(0,t.jsx)(n.h4,{id:"condition-based-execution-of-cds-views",children:"Condition-based execution of CDS views"}),"\n",(0,t.jsx)(n.p,{children:"For subclassing and condition-based execution of certain CDS views please consider this example:"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-abap",children:"\"! <p class=\"shorttext synchronized\" lang=\"en\">test multi</p>\nclass zcl_vcha_demo_cds_multi_link definition\n  public\n  create public\n  inheriting from /mxp/vcha_cl_va_cds_link_multi.\n\n  public section.\n    methods constructor.\n  protected section.\n    methods is_view_relevant redefinition.\n  private section.\nendclass.\n\nclass zcl_vcha_demo_cds_multi_link implementation.\n  method constructor.\n    super->constructor(\n      value #( \"first view\n               ( cds_view_name = conv #( cl_abap_structdescr=>describe_by_data( value zc_my_consumption_view( ) )->get_relative_name( ) ) \"in order to make where used work, get the name dynamically\n                 parameter_definitions = value #(\n                   ( characteristic_name = 'THICKNESS'\n                     cds_parameter_name = 'P_THICKNESS'\n                     cds_parameter_null_name = 'P_THICKNESS_IS_NULL' ) ) \"for integers, it may be an interesting info to check whether the value is assigned or not (null) -> boolean as CDS parameter\n                 field_mappings = value #(\n                   ( characteristic_name = 'PRODUCT_TYPE'\n                     cds_field_name = 'ProductType' )\n                   ( characteristic_name = 'PRODUCT_FORM'\n                     cds_field_name = 'ProductForm' ) ) )\n               \"second view\n               ( cds_view_name = conv #( cl_abap_structdescr=>describe_by_data( value zc_my_consumption_view2( ) )->get_relative_name( ) ) ) ) ).\n  endmethod.\n\n  method is_view_relevant.\n    \"skip second view, if Thickness was not entered (any condition possible)\n    case i_view->cds_view_name.\n      when cl_abap_structdescr=>describe_by_data( value zc_my_consumption_view2( ) )->get_relative_name( ).\n        if m_engine->m_container->get_assigned_value_for_cstic(\n             m_engine->m_container->get_characteristic_by_name(\n               i_cstic_name = 'THICKNESS' i_instance_id = m_engine->m_container->m_root_instance_id )->key ) is initial.\n          return abap_false.\n        endif.\n    endcase.\n    return abap_true.\n  endmethod.\nendclass.\n"})})]})}function h(e={}){const{wrapper:n}={...(0,r.R)(),...e.components};return n?(0,t.jsx)(n,{...e,children:(0,t.jsx)(o,{...e})}):o(e)}}}]);
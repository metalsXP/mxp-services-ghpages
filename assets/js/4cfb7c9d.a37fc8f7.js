"use strict";(self.webpackChunkubc_services=self.webpackChunkubc_services||[]).push([[4381],{25633:(e,n,s)=>{s.d(n,{A:()=>i});const i=s.p+"assets/images/image_007-23eca362427b736ac403c21b80192b8b.png"},28453:(e,n,s)=>{s.d(n,{R:()=>c,x:()=>l});var i=s(96540);const t={},r=i.createContext(t);function c(e){const n=i.useContext(r);return i.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function l(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(t):e.components||t:c(e.components),i.createElement(r.Provider,{value:n},e.children)}},36568:(e,n,s)=>{s.d(n,{A:()=>i});const i=s.p+"assets/images/image_006-dccfc3d160bb3aed56a61fc8d3f2894a.png"},43484:(e,n,s)=>{s.r(n),s.d(n,{assets:()=>a,contentTitle:()=>l,default:()=>h,frontMatter:()=>c,metadata:()=>i,toc:()=>o});const i=JSON.parse('{"id":"brf","title":"BRF+ Rules","description":"Call BRF+ functions","source":"@site/docs/products/mdVC/brf.md","sourceDirName":".","slug":"/connectors/brf/","permalink":"/products/mdVC/connectors/brf/","draft":false,"unlisted":false,"tags":[],"version":"current","frontMatter":{"slug":"/connectors/brf/","description":"Call BRF+ functions"},"sidebar":"mdVC","previous":{"title":"Connectors","permalink":"/products/mdVC/connectors/"},"next":{"title":"CDS views","permalink":"/products/mdVC/connectors/cds/"}}');var t=s(74848),r=s(28453);const c={slug:"/connectors/brf/",description:"Call BRF+ functions"},l="BRF+ Rules",a={},o=[{value:"Task",id:"task",level:2},{value:"BRF+ Function Contract",id:"brf-function-contract",level:2},{value:"Context",id:"context",level:3},{value:"Result",id:"result",level:3},{value:"Messages",id:"messages",level:3},{value:"Application Exit",id:"application-exit",level:2},{value:"Limitations",id:"limitations",level:2}];function d(e){const n={a:"a",admonition:"admonition",br:"br",code:"code",em:"em",h1:"h1",h2:"h2",h3:"h3",header:"header",img:"img",li:"li",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,r.R)(),...e.components};return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(n.header,{children:(0,t.jsx)(n.h1,{id:"brf-rules",children:"BRF+ Rules"})}),"\n",(0,t.jsxs)(n.p,{children:[(0,t.jsx)(n.a,{href:"https://help.sap.com/docs/SAP_DECISION_SERVICE_MANAGEMENT/90c77b45fd0f42febd69eea239037688/9a6b67ce7c26446483af079719edf679.html?locale=en-US",children:"BRF+ (Business Rule Framework plus)"})," plays a crucial role in complex, parameter-driven industries like steel manufacturing. These industries require flexible and highly tailored logic, which varies significantly depending on product, plant, or customer. In such scenarios, maintaining logic close to the domain experts\u2014rather than in ABAP or AVC\u2014enables more agile adjustments and better alignment with business needs. BRF+ empowers business teams to model and maintain decision logic directly, reducing dependency on technical consultants."]}),"\n",(0,t.jsxs)(n.p,{children:[(0,t.jsx)(n.strong,{children:"mdVC"})," comes with an out-of-the-box connector for calling BRF+ rules from within your configuration logic."]}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.img,{alt:"BRF+ rule example",src:s(36568).A+"",width:"949",height:"946"})}),"\n",(0,t.jsx)(n.admonition,{type:"warning",children:(0,t.jsx)(n.p,{children:"This example does not reflect a meaningful business scenario; it\u2019s intended purely for demonstration."})}),"\n",(0,t.jsx)(n.h2,{id:"task",children:"Task"}),"\n",(0,t.jsxs)(n.p,{children:["To trigger a BRF+ function, use the Task Implementation ",(0,t.jsx)(n.code,{children:"/mxp/vcha_cl_va_task_brf"}),". When creating the task, pass the BRF+ function ID:"]}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-abap",children:"new /mxp/vcha_cl_va_task_brf( '7FB9DBBA40781FE086CED3D189915F64' ) \"function_id for BRF+ function FU_VCHA_DEMO_MXP_STEEL\n"})}),"\n",(0,t.jsxs)(n.p,{children:["This task can be integrated like any other in your configuration flow. See ",(0,t.jsx)(n.a,{href:"/products/mdVC/usage/#task",children:"Usage"})," for details."]}),"\n",(0,t.jsx)(n.p,{children:"The task performs the following steps:"}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsx)(n.li,{children:"Maps configuration values into the BRF+ context"}),"\n",(0,t.jsx)(n.li,{children:"Executes the BRF+ function"}),"\n",(0,t.jsx)(n.li,{children:"Maps the returned results back into configuration"}),"\n",(0,t.jsx)(n.li,{children:"Captures messages raised in BRF+ and adds them to the log"}),"\n"]}),"\n",(0,t.jsx)(n.h2,{id:"brf-function-contract",children:"BRF+ Function Contract"}),"\n",(0,t.jsx)(n.p,{children:"You're free to define the BRF+ function structure \u2014 no DDIC bindings or other developments are required. Simply create the function and assign rulesets or expressions."}),"\n",(0,t.jsx)(n.p,{children:"Value Mapping is based entirely on naming conventions and the BRF+ signature, offering high flexibility. You can extend your logic without modifying ABAP, as long as the naming is correct."}),"\n",(0,t.jsx)(n.admonition,{type:"info",children:(0,t.jsx)(n.p,{children:"At present, data objects for BRF+ must be manually created\u2014there is no automated generation."})}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.img,{alt:"Signature",src:s(69478).A+"",width:"1177",height:"607"})}),"\n",(0,t.jsx)(n.h3,{id:"context",children:"Context"}),"\n",(0,t.jsxs)(n.p,{children:["The context includes everything passed ",(0,t.jsx)(n.em,{children:"into"})," BRF+."]}),"\n",(0,t.jsx)(n.p,{children:"Supported data object types:"}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsxs)(n.li,{children:["\n",(0,t.jsxs)(n.p,{children:[(0,t.jsx)(n.strong,{children:"Element"}),(0,t.jsx)(n.br,{}),"\n","Use this format: ",(0,t.jsx)(n.code,{children:"<<characteristic_name>><<_suffix>>"}),(0,t.jsx)(n.br,{}),"\n","Suffix options:"]}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.em,{children:"(no suffix)"}),": maps the actual value if assigned",(0,t.jsx)(n.br,{}),"\n","\u2192 Use element type ",(0,t.jsx)(n.code,{children:"Text"})," for ",(0,t.jsx)(n.code,{children:"CHAR"}),", ",(0,t.jsx)(n.code,{children:"Number"})," for ",(0,t.jsx)(n.code,{children:"NUM"}),", etc."]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.code,{children:"_MIN"}),": maps the lower bound of an interval",(0,t.jsx)(n.br,{}),"\n","\u2192 Use the same type as the characteristic value"]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.code,{children:"_MAX"}),": maps the upper bound of an interval",(0,t.jsx)(n.br,{}),"\n","\u2192 Use the same type as the characteristic value"]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.code,{children:"_RDO"}),": maps the read-only flag",(0,t.jsx)(n.br,{}),"\n","\u2192 Use element type ",(0,t.jsx)(n.code,{children:"Boolean"})]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.code,{children:"_HDD"}),": maps the hidden flag",(0,t.jsx)(n.br,{}),"\n","\u2192 Use element type ",(0,t.jsx)(n.code,{children:"Boolean"})]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.code,{children:"_FIX"}),": maps whether the value was entered by a user (and should not be overwritten)",(0,t.jsx)(n.br,{}),"\n","\u2192 Use element type ",(0,t.jsx)(n.code,{children:"Boolean"})]}),"\n"]}),"\n"]}),"\n",(0,t.jsxs)(n.li,{children:["\n",(0,t.jsxs)(n.p,{children:[(0,t.jsx)(n.strong,{children:"Structure"}),(0,t.jsx)(n.br,{}),"\n","Optionally used to group fields logically (e.g. ",(0,t.jsx)(n.code,{children:"IS_INPUT"}),"). This can also be skipped if using flat elements."]}),"\n"]}),"\n",(0,t.jsxs)(n.li,{children:["\n",(0,t.jsxs)(n.p,{children:[(0,t.jsx)(n.strong,{children:"Table"}),(0,t.jsx)(n.br,{}),"\n","Used for multi-valued characteristics.",(0,t.jsx)(n.br,{}),"\n","Tables must contain elements as defined above, and follow the same naming convention."]}),"\n"]}),"\n"]}),"\n",(0,t.jsx)(n.h3,{id:"result",children:"Result"}),"\n",(0,t.jsxs)(n.p,{children:["The result section includes everything returned ",(0,t.jsx)(n.em,{children:"from"})," BRF+ to ",(0,t.jsx)(n.strong,{children:"mdVC"}),". All data objects to be updated must be declared as results."]}),"\n",(0,t.jsxs)(n.p,{children:["Use the same names as in the context, but with a ",(0,t.jsx)(n.code,{children:"R_"})," prefix. For example, to return a value for ",(0,t.jsx)(n.code,{children:"PRODUCT_FORM"}),", define a result data object named ",(0,t.jsx)(n.code,{children:"R_PRODUCT_FORM"}),"."]}),"\n",(0,t.jsxs)(n.p,{children:["It\u2019s highly recommended to ",(0,t.jsx)(n.strong,{children:"initialize the result from the context"})," as the first rule in your ruleset, e.g. ",(0,t.jsx)(n.code,{children:"R_PRODUCT_FORM = PRODUCT_FORM"}),"."]}),"\n",(0,t.jsx)(n.p,{children:"This ensures only explicitly changed values are overwritten, while others remain unchanged."}),"\n",(0,t.jsx)(n.h3,{id:"messages",children:"Messages"}),"\n",(0,t.jsx)(n.p,{children:"Messages created via log actions in BRF+ are forwarded to the AVC log. Use one of the following supported application objects:"}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.code,{children:"/MXP/VCHA"})," with subobject ",(0,t.jsx)(n.code,{children:"BRF"})]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.code,{children:"FDT"})," with subobject ",(0,t.jsx)(n.code,{children:"FDT_MSG_ACTION"})]}),"\n"]}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.img,{alt:"Message Action",src:s(54575).A+"",width:"838",height:"317"})}),"\n",(0,t.jsx)(n.h2,{id:"application-exit",children:"Application Exit"}),"\n",(0,t.jsxs)(n.p,{children:["When referencing a value like ",(0,t.jsx)(n.code,{children:"PRODUCT_FORM"})," in BRF+, providing a value help and validation logic is often useful. BRF+ supports this via ",(0,t.jsx)(n.a,{href:"https://help.sap.com/docs/SAP_DECISION_SERVICE_MANAGEMENT/90c77b45fd0f42febd69eea239037688/e282e2b3c027434aa3ec5722b4c8ffb0.html?locale=en-US",children:"Application Exits"}),"."]}),"\n",(0,t.jsxs)(n.p,{children:[(0,t.jsx)(n.strong,{children:"mdVC"})," provides two pre-delivered exit classes:"]}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.code,{children:"/mxp/vcha_cl_fdt_exit_qppd"}),(0,t.jsx)(n.br,{}),"\n","Uses QPPD values based on name equality"]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.code,{children:"/mxp/vcha_cl_fdt_exit_char"}),(0,t.jsx)(n.br,{}),"\n","Uses characteristic values based on name equality"]}),"\n"]}),"\n",(0,t.jsx)(n.p,{children:"To activate, simply assign the desired class in the application exit field of the BRF+ element."}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.img,{alt:"Application Exit",src:s(25633).A+"",width:"915",height:"588"})}),"\n",(0,t.jsx)(n.h2,{id:"limitations",children:"Limitations"}),"\n",(0,t.jsxs)(n.p,{children:["Currently, characteristic names must not exceed 24 characters. This is due to the strict name-based mapping rules described in the ",(0,t.jsx)(n.a,{href:"#brf-function-contract",children:"BRF+ Function Contract"}),"."]})]})}function h(e={}){const{wrapper:n}={...(0,r.R)(),...e.components};return n?(0,t.jsx)(n,{...e,children:(0,t.jsx)(d,{...e})}):d(e)}},54575:(e,n,s)=>{s.d(n,{A:()=>i});const i=s.p+"assets/images/image_009-b8b8317b152e02fbe9a913e39a09bcdf.png"},69478:(e,n,s)=>{s.d(n,{A:()=>i});const i=s.p+"assets/images/image_008-bf72d3f9fea9bd262d90424e6f98ae05.png"}}]);